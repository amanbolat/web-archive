<!DOCTYPE html> <html lang=ru data-lt-installed=true><!--
 Page saved with SingleFile 
 url: https://habr.com/ru/articles/891426/ 
 saved date: Thu Mar 20 2025 18:49:35 GMT+0100 (Central European Standard Time)
--><meta charset=utf-8>
<title>Планировщик Go — самый подробный гайд простым языком / Хабр</title>
<meta property=fb:app_id content=444736788986613>
<meta property=fb:pages content=472597926099084>
<meta name=twitter:card content=summary_large_image>
<meta name=twitter:site content=@habr_com>
<meta property=og:site_name content=Хабр>
<link href="https://habr.com/ru/rss/post/891426/?fl=ru" type=application/rss+xml title rel=alternate name=rss>
<link href=https://habr.com/ru/articles/891426/ rel=canonical data-hid=e3fa780>
<link rel=image_src href=https://habrastorage.org/getpro/habr/upload_files/256/584/7b8/2565847b80e6fa2550fccd3feefa08a7.png data-hid=2a79c45>
<meta property=og:title content="Планировщик Go — самый подробный гайд простым языком">
<meta name=twitter:title content="Планировщик Go — самый подробный гайд простым языком">
<meta name=aiturec:title content="Планировщик Go — самый подробный гайд простым языком">
<meta name=description content="Давайте спроектируем с нуля планировщик Go — начнём с самой простой и понятной наивной реализации, а затем шаг за шагом будем разбираться, какие изъяны в ней есть, и придумывать как их решать,...">
<meta itemprop=description content="Давайте спроектируем с нуля планировщик Go — начнём с самой простой и понятной наивной реализации, а затем шаг за шагом будем разбираться, какие изъяны в ней есть, и придумывать как их решать,...">
<meta property=og:description content="Давайте спроектируем с нуля планировщик Go — начнём с самой простой и понятной наивной реализации, а затем шаг за шагом будем разбираться, какие изъяны в ней есть, и придумывать как их решать,...">
<meta name=twitter:description content="Давайте спроектируем с нуля планировщик Go — начнём с самой простой и понятной наивной реализации, а затем шаг за шагом будем разбираться, какие изъяны в ней есть, и придумывать как их решать,...">
<meta property=aiturec:description content="Давайте спроектируем с нуля планировщик Go — начнём с самой простой и понятной наивной реализации, а затем шаг за шагом будем разбираться, какие изъяны в ней есть, и придумывать как их решать,...">
<meta itemprop=image content=https://habrastorage.org/getpro/habr/upload_files/256/584/7b8/2565847b80e6fa2550fccd3feefa08a7.png>
<meta property=og:image content=https://habrastorage.org/getpro/habr/upload_files/256/584/7b8/2565847b80e6fa2550fccd3feefa08a7.png>
<meta property=og:image:width content=1200>
<meta property=og:image:height content=630>
<meta property=aiturec:image content=https://habrastorage.org/getpro/habr/upload_files/256/584/7b8/2565847b80e6fa2550fccd3feefa08a7.png>
<meta name=twitter:image content=https://habrastorage.org/getpro/habr/upload_files/256/584/7b8/2565847b80e6fa2550fccd3feefa08a7.png>
<meta property=vk:image content="https://habrastorage.org/getpro/habr/upload_files/256/584/7b8/2565847b80e6fa2550fccd3feefa08a7.png?format=vk">
<meta property=vk:image content="https://habrastorage.org/getpro/habr/upload_files/256/584/7b8/2565847b80e6fa2550fccd3feefa08a7.png?format=vk">
<meta property=aiturec:item_id content=891426>
<meta property=aiturec:datetime content=2025-03-17T16:56:46.000Z>
<meta content=https://habr.com/ru/articles/891426/ property=og:url>
<meta property=og:type content=article>
<meta property=og:locale content=ru_RU>
<meta property=og:image:width content=1200>
<meta property=og:image:height content=630>
<meta name=keywords content="go, golang, планировщик go, под капотом, внутреннее устройство">
<script type=application/ld+json data-hid=1e0f0a2>{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://habr.com/ru/articles/891426/"},"headline":"Планировщик Go — самый подробный гайд простым языком","datePublished":"2025-03-17T19:56:46+03:00","dateModified":"2025-03-20T10:21:47+03:00","author":{"@type":"Person","name":"Николай Тузов"},"publisher":{"@type":"Organization","name":"Habr","logo":{"@type":"ImageObject","url":"https://habrastorage.org/webt/a_/lk/9m/a_lk9mjkccjox-zccjrpfolmkmq.png"}},"description":"Давайте спроектируем с нуля планировщик Go &mdash; начнём с самой простой и понятной наивной реализации, а затем шаг за шагом будем разбираться, какие изъяны в ней ест...","url":"https://habr.com/ru/articles/891426/#post-content-body","about":["h_go","f_develop"],"image":["https://habr.com/share/publication/891426/fbd48b39d78d40b0eb1f897b6f673aa1/","https://habrastorage.org/webt/9v/fx/sr/9vfxsrpns_madpsn2qmi2yf1i70.png","https://habrastorage.org/webt/7j/fz/ki/7jfzkii4j8rykhtspsgwc3qvbx8.png","https://habrastorage.org/getpro/habr/upload_files/d14/3b5/d7b/d143b5d7b766b07bb657b454c1a71f77.png","https://habrastorage.org/webt/fi/ti/o2/fitio2yngo4e07qfrfopjeslidm.png","https://habrastorage.org/webt/9d/8s/bn/9d8sbnzqsenz4cdzp4aifzkwis4.png","https://habrastorage.org/webt/5w/wl/qe/5wwlqe6vsyjglta0bgcacqt4sic.png","https://habrastorage.org/webt/ei/ab/kk/eiabkkxwqm12kyys-ftktskjati.png","https://habrastorage.org/webt/_t/oy/-w/_toy-wwlua9z5bcb0pkl9tw_wdw.png","https://habrastorage.org/webt/qd/e8/bn/qde8bn670cpegfnbatqlc1mdnxq.png","https://habrastorage.org/webt/we/db/_j/wedb_jl9bubs9srr38d6yp45s_u.png","https://habrastorage.org/webt/tu/-p/ss/tu-psskpnepytefg5fxwhd9_bvs.png","https://habrastorage.org/webt/2n/lb/nx/2nlbnxqihzehi8excib4i7qdvva.png","https://habrastorage.org/webt/mq/eu/fy/mqeufy5ay_yoxqwy3bbr8ybtgvq.png","https://habrastorage.org/webt/rb/k1/u1/rbk1u1mbkltls6sggoq9wqym0ny.png","https://habrastorage.org/webt/-3/ek/ml/-3ekml09uijqsvp1mnrevphwkvs.png","https://habrastorage.org/webt/mn/k6/wd/mnk6wdddwrrhehesubvffsxjyve.png","https://habrastorage.org/webt/d7/pl/vr/d7plvr_yols2pflyqn0g2iu-1mk.png","https://habrastorage.org/webt/ja/oy/av/jaoyavc_tezjhjaf3ml3qasj3ck.png","https://habrastorage.org/webt/xq/ft/sf/xqftsfjivrlxyvw188bp4ssjx6s.png","https://habrastorage.org/webt/r4/2h/6t/r42h6teejmqshkarmswetuvexys.png","https://habrastorage.org/webt/9j/mh/sc/9jmhscwgxc5gqoy_ygxgjqqzcwq.png","https://habrastorage.org/webt/js/qi/k_/jsqik_tzyapmj--ykpktnf8ggpu.png","https://habrastorage.org/getpro/habr/upload_files/7f9/436/765/7f9436765142c3d3bc4c77f1f5096f57.png","https://habrastorage.org/getpro/habr/upload_files/c09/f11/79f/c09f1179f33e296cb210308047dfa8bd.png","https://habrastorage.org/webt/jv/cz/ow/jvczowdenkxd1lmu9byyrhwb6ss.png","https://habrastorage.org/webt/fo/oq/x1/fooqx1pjsyvq311ahycjsb4acg0.png","https://habrastorage.org/webt/vx/er/4m/vxer4mmrtvfjodkfvxxsjgiw674.png","https://habrastorage.org/getpro/habr/upload_files/db2/c1f/640/db2c1f6400a495dc38cb6ae9648be1ae.png","https://habrastorage.org/getpro/habr/upload_files/c81/de7/acf/c81de7acf8cdb92a736993ad2fd957d8.png","https://habrastorage.org/getpro/habr/upload_files/4df/ffa/28c/4dfffa28c874219fb25c08fcdc081151.png","https://habrastorage.org/webt/ym/ia/17/ymia17tgm0axzqx80yqw0_wc77w.png","https://habrastorage.org/getpro/habr/upload_files/256/584/7b8/2565847b80e6fa2550fccd3feefa08a7.png"]}</script>
<meta name=viewport content="width=device-width,initial-scale=1.0,viewport-fit=cover,maximum-scale=1,user-scalable=0">
<meta name=habr-version content=2.233.0>
<meta name=csrf-token content=0gNqDnZh-E7H19-BsxgLi0Vwr-ya_GZgoZCg>
<meta name=apple-mobile-web-app-status-bar-style content=#303b44>
<meta name=msapplication-TileColor content=#629FBC>
<meta name=apple-mobile-web-app-capable content=yes>
<meta name=mobile-web-app-capable content=yes>
<link rel="shortcut icon" type=image/png sizes=32x32 href=data:, data-sf-original-href=https://assets.habr.com/habr-web/img/favicons/favicon-32.png>
<link rel=apple-touch-icon type=image/png sizes=76x76 href=data:, data-sf-original-href=https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-76.png>
<link rel=apple-touch-icon type=image/png sizes=120x120 href=data:, data-sf-original-href=https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.png>
<link rel=apple-touch-icon type=image/png sizes=152x152 href=data:, data-sf-original-href=https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-152.png>
<link rel=apple-touch-icon type=image/png sizes=180x180 href=data:, data-sf-original-href=https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-180.png>
<link rel=apple-touch-icon type=image/png sizes=256x256 href=data:, data-sf-original-href=https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-256.png>
<link rel=apple-touch-startup-image media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href=https://assets.habr.com/habr-web/img/splashes/splash_1136x640.png>
<link rel=apple-touch-startup-image media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href=https://assets.habr.com/habr-web/img/splashes/splash_2436x1125.png>
<link rel=apple-touch-startup-image media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href=https://assets.habr.com/habr-web/img/splashes/splash_1792x828.png>
<link rel=apple-touch-startup-image media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href=https://assets.habr.com/habr-web/img/splashes/splash_828x1792.png>
<link rel=apple-touch-startup-image media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href=https://assets.habr.com/habr-web/img/splashes/splash_1334x750.png>
<link rel=apple-touch-startup-image media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href=https://assets.habr.com/habr-web/img/splashes/splash_1242x2668.png>
<link rel=apple-touch-startup-image media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href=https://assets.habr.com/habr-web/img/splashes/splash_2208x1242.png>
<link rel=apple-touch-startup-image media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href=https://assets.habr.com/habr-web/img/splashes/splash_1125x2436.png>
<link rel=apple-touch-startup-image media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href=https://assets.habr.com/habr-web/img/splashes/splash_1242x2208.png>
<link rel=apple-touch-startup-image media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href=https://assets.habr.com/habr-web/img/splashes/splash_2732x2048.png>
<link rel=apple-touch-startup-image media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href=https://assets.habr.com/habr-web/img/splashes/splash_2688x1242.png>
<link rel=apple-touch-startup-image media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href=https://assets.habr.com/habr-web/img/splashes/splash_2224x1668.png>
<link rel=apple-touch-startup-image media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href=https://assets.habr.com/habr-web/img/splashes/splash_750x1334.png>
<link rel=apple-touch-startup-image media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href=https://assets.habr.com/habr-web/img/splashes/splash_2048x2732.png>
<link rel=apple-touch-startup-image media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href=https://assets.habr.com/habr-web/img/splashes/splash_2388x1668.png>
<link rel=apple-touch-startup-image media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href=https://assets.habr.com/habr-web/img/splashes/splash_1668x2224.png>
<link rel=apple-touch-startup-image media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href=https://assets.habr.com/habr-web/img/splashes/splash_640x1136.png>
<link rel=apple-touch-startup-image media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href=https://assets.habr.com/habr-web/img/splashes/splash_1668x2388.png>
<link rel=apple-touch-startup-image media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href=https://assets.habr.com/habr-web/img/splashes/splash_2048x1536.png>
<link rel=apple-touch-startup-image media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href=https://assets.habr.com/habr-web/img/splashes/splash_1536x2048.png>
<link rel=mask-icon color=#77a2b6 href=data:, data-sf-original-href=https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.svg>
<meta itemprop=description content="Давайте спроектируем с нуля планировщик Go — начнём с самой простой и понятной наивной реализации, а затем шаг за шагом будем разбираться, какие изъяны в ней есть, и придумывать как их решать,..."><meta itemprop=image content=https://habrastorage.org/getpro/habr/upload_files/256/584/7b8/2565847b80e6fa2550fccd3feefa08a7.png><meta property=vk:image content="https://habrastorage.org/getpro/habr/upload_files/256/584/7b8/2565847b80e6fa2550fccd3feefa08a7.png?format=vk"><meta property=og:image:width content=1200><meta property=og:image:height content=630><link rel=icon href=data:, sizes=512x512 data-sf-original-href=https://habr.com/img/maskable_icon.png><link rel=icon href=data:, sizes=384x384 data-sf-original-href=https://habr.com/img/maskable_icon.png><link rel=icon href=data:, sizes=256x256 data-sf-original-href=https://habr.com/img/maskable_icon.png><link rel=icon href=data:, sizes=192x192 data-sf-original-href=https://habr.com/img/maskable_icon.png><link rel=icon href=data:, sizes=152x152 data-sf-original-href=https://habr.com/img/maskable_icon.png><link rel=icon href=data:, sizes=144x144 data-sf-original-href=https://habr.com/img/maskable_icon.png><link rel=icon href=data:, sizes=128x128 data-sf-original-href=https://habr.com/img/maskable_icon.png><link rel=icon href=data:, sizes=96x96 data-sf-original-href=https://habr.com/img/maskable_icon.png><link rel=icon href=data:, sizes=72x72 data-sf-original-href=https://habr.com/img/maskable_icon.png><meta name=theme-color content=#303b44><meta name=x5-page-mode content=app><meta name=browsermode content=application><meta name=referrer content=no-referrer><link rel="shortcut icon" type=image/png sizes=16x16 href=data:, data-sf-original-href=https://assets.habr.com/habr-web/img/favicons/favicon-16.png><meta http-equiv=content-security-policy content="default-src 'none'; font-src 'self' data:; img-src 'self' data:; style-src 'unsafe-inline'; media-src 'self' data:; script-src 'unsafe-inline' data:; object-src 'self' data:; frame-src 'self' data:;"><style>img[src="data:,"],source[src="data:,"]{display:none!important}</style></head>
 <body>
 
 <div id=mount><div id=app data-async-called=true><div class=tm-layout__wrapper><div></div><header class=tm-header data-test-id=header><div class=tm-page-width><div class=tm-header__container><span class=tm-header__logo-wrap><a class="tm-header__logo tm-header__logo_hl-ru" href=https://habr.com/ru/></a><span class=tm-header__beta-sign>β</span></span><div class="tm-dropdown tm-header__projects"><div class=tm-dropdown__head><button class=tm-header__dropdown-toggle></button></div></div><a href=https://habr.com/ru/sandbox/start/ class=tm-header__become-author-btn>Как стать автором</a></div></div></header><div class=tm-layout><div class=tm-page-progress-bar></div><div class="tm-base-layout__header_is-sticky tm-base-layout__header" data-menu-sticky=true><div class=tm-page-width><div class=tm-base-layout__header-wrapper><div class=tm-main-menu><div class=tm-main-menu__section><nav class=tm-main-menu__section-content><a class="tm-main-menu__item tm-main-menu__item_has-new" data-test-id=main-menu-item href=https://habr.com/ru/feed/>Моя лента</a><a class=tm-main-menu__item href=https://habr.com/ru/flows/all/>Все потоки</a><a class=tm-main-menu__item data-test-id=main-menu-item href=https://habr.com/ru/flows/develop/>Разработка</a><a class=tm-main-menu__item data-test-id=main-menu-item href=https://habr.com/ru/flows/admin/>Администрирование</a><a class=tm-main-menu__item data-test-id=main-menu-item href=https://habr.com/ru/flows/design/>Дизайн</a><a class=tm-main-menu__item data-test-id=main-menu-item href=https://habr.com/ru/flows/management/>Менеджмент</a><a class=tm-main-menu__item data-test-id=main-menu-item href=https://habr.com/ru/flows/marketing/>Маркетинг</a><a class=tm-main-menu__item data-test-id=main-menu-item href=https://habr.com/ru/flows/popsci/>Научпоп</a></nav></div></div><div class="tm-header-user-menu tm-base-layout__user-menu"><a href=https://habr.com/ru/search/ class="tm-header-user-menu__item tm-header-user-menu__search" data-test-id=search-button></a><a href=https://habr.com/ru/tracker/ class="tm-header-user-menu__item tm-header-user-menu__notifications" data-test-id=tracker-link><span class=tm-header-user-menu__notifications-count>+3</span></a><div class="tm-header-user-menu__item tm-header-user-menu__write"><a href=https://habr.com/ru/sandbox/new/></a></div><div class="tm-header-user-menu__user_desktop tm-header-user-menu__item"><div class=tm-dropdown><div class=tm-dropdown__head><div class=tm-entity-image data-test-id=menu-toggle-user><img alt class=tm-entity-image__pic height=32 src=data:, width=32 data-sf-original-src=https://assets.habr.com/habr-web/img/avatars/144.png></div></div></div></div></div></div></div></div><button class=tm-scroll-top><span class="tm-svg-icon__wrapper tm-scroll-top__arrow"></span></button><div class=tm-page-width></div><main class=tm-layout__container><div class=tm-page hl=ru data-async-called=true><div class=tm-page-width><div class=tm-page__wrapper><div class="tm-page__main_has-sidebar tm-page__main"><div class=pull-down><div class=pull-down__header><div class=pull-down__content></div></div><div class=tm-article-presenter><div class=tm-article-presenter__body data-test-id=article-body><div class=tm-misprint-area><div class=tm-misprint-area__wrapper><article class="tm-article-presenter__content tm-article-presenter__content_narrow"><div class=tm-article-presenter__header><div class="tm-article-snippet tm-article-presenter__snippet"><div class=tm-article-snippet__meta-container><div class=tm-article-snippet__meta><span class="tm-user-info tm-article-snippet__author"><a href=https://habr.com/ru/users/JustSkiv/ class=tm-user-info__userpic data-test-id=user-info-pic title=JustSkiv><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://habrastorage.org/r/w48/getpro/habr/avatars/743/20a/a35/74320aa3534088f9f6bf240441c5067d.jpg></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/JustSkiv/ class=tm-user-info__username>JustSkiv </a><span class=tm-article-datetime-published><time datetime=2025-03-17T16:56:46.000Z title="2025-03-17, 19:56">17 мар в 19:56</time></span></span></span></div></div><h1 class="tm-title tm-title_h1" lang=ru data-test-id=articleTitle><span>Планировщик Go — самый подробный гайд простым языком</span></h1><div class=tm-article-snippet__stats data-test-id=articleStats><div class="tm-article-complexity tm-article-complexity_complexity-medium"><span class="tm-svg-icon__wrapper tm-article-complexity__icon"></span><span class=tm-article-complexity__label>Средний</span></div><div class=tm-article-reading-time><span class="tm-svg-icon__wrapper tm-article-reading-time__icon"></span><span class=tm-article-reading-time__label>27 мин</span></div><span class="tm-icon-counter tm-data-icons__item"><span class=tm-icon-counter__value title=15398>15K</span></span></div><div class=tm-publication-hubs__container data-test-id=articleHubsList><div class=tm-publication-hubs><span class=tm-publication-hub__link-container><a href=https://habr.com/ru/hubs/go/ class=tm-publication-hub__link><span>Go</span><span class=tm-article-snippet__profiled-hub title="Профильный хаб">*</span></a></span></div></div><div class=tm-article-labels data-test-id=articleLabels><div class=tm-article-labels__container><div class="tm-publication-label tm-publication-label_variant-tutorial"><span>Туториал</span></div></div></div></div></div><div class=tm-article-body data-gallery-root lang=ru><div></div><div id=post-content-body><div><div class="article-formatted-body article-formatted-body_version-2"><div xmlns=http://www.w3.org/1999/xhtml><figure class=full-width><img src=data:, width=2400 height=1260 data-src=https://habrastorage.org/webt/9v/fx/sr/9vfxsrpns_madpsn2qmi2yf1i70.png data-sf-original-src=https://habrastorage.org/r/w1560/webt/9v/fx/sr/9vfxsrpns_madpsn2qmi2yf1i70.png></figure><p>Давайте спроектируем с нуля планировщик Go — начнём с самой простой и понятной наивной реализации, а затем шаг за шагом будем разбираться, какие изъяны в ней есть, и придумывать как их решать, постепенно усложняя общую модель.<p>Это один из лучших способов понять сложную систему или концепцию —&nbsp;пройти путь её поэтапного проектирования. Система сложна, осознать её очень непросто, но мы разобьём её на простые шаги, понять которые очень легко. После этого пазл сам собой сложится в голове, и общая картина системы будет для вас такой же простой и очевидной.<h2>Вводные слова и зачем изучать планировщик?</h2><p>Конкурентность это очень полезная, но очень сложная штука. Обычно при работе с ней разработчикам приходится решать множество проблем, но язык Go свёл эти проблемы к минимуму. Здесь работа с конкурентным кодом реализована очень просто, понятно и эффективно.<p>Ключевые сущности, помогающие в этом:<ul><li><p><strong>Горутины</strong>, которые могут работать конкурентно и независимо друг от друга</p><li><p><strong>Планировщик</strong>, который ими управляет</p><li><p><strong>Каналы</strong>, которые помогают обмениваться данными между горутинами</p></ul><p>Про внутреннее устройство каналов у меня тоже есть <a href=https://youtu.be/ZTJcaP4G4JM rel="noopener noreferrer nofollow" target=_blank>подробный ролик</a> —&nbsp;его я также советую посмотреть, чтобы взглянуть на всю эту машинерию под другим углом. В этой же статье мы разберем планировщик и горутины.<p>Статья не для новичков — я предполагаю, что читатель уже знаком с Go. Как минимум:<ul><li><p>Прошел <a href=https://go.dev/tour/ rel="noopener noreferrer nofollow" target=_blank>Tour of Go</a></p><li><p>Понимает как работать с горутинами, хотя бы на самом базовом уровне</p></ul><blockquote><p>У этой статьи есть также <a href=https://youtu.be/kedW1xO3Zbo rel="noopener noreferrer nofollow" target=_blank>видео-версия</a>. Я постарался приложить максимум усилий, чтобы изложить свои мысли максимально эффективно в обоих форматах, поэтому просто выбирайте тот, что ближе вам. Однако, у текста и видео есть свои плюсы и минусы — некоторые вещи намного проще наглядно показывать в видео, а некоторые концепции лучше усваиваются в виде текста. Поэтому, если хотите усвоить материал максимально эффективно, я бы посоветовал сначала посмотреть видео, а потом прочитать статью для закрепления.<p><em>Кстати, вторая половина видео — это дополнительная практическая часть, в которой я препарирую планировщик с помощью моей утилиты </em><a href=https://github.com/JustSkiv/goschedviz rel="noopener noreferrer nofollow" target=_blank><em>goschedviz</em></a><em>. В текущей статье этого нет, так как оформить такое в виде текста довольно сложно. Но если будет достаточно желающих, я готов изложить это в виде отдельной статьи.</em></p></blockquote><h2>Постановка задачи</h2><p>Итак, представим, что мы инженеры из Go Team, и перед нами стоит амбициозная задача — научить наши программы работать конкурентно и, по возможности, параллельно. Да, термины "конкуретно" и "параллельно" часто путают, но дальше мы разберём, в чём их суть и в чём разница.<p>Основные требования к нашим конкурентно работающим программам:<ul><li><p>Должны быть задействованы все доступные ядра процессора (при необходимости)</p><li><p>Дешевизна в плане быстродействия и используемой памяти — мы хотим запускать конкурентно тысячи, сотни тысяч задач!</p><li><p>Решение должно быть понятным и простым в использовании — код должен быть интуитивно понятным</p></ul><p>Также обращаю внимание, что несмотря на объём статьи, мне приходится во многих случаях делать упрощения, чтобы материал было легче усвоить, и чтобы статья не превратилась в книгу. В некоторых местах я буду обращать на это ваше внимание, а в некоторых нет.<h2>Краткий ликбез по основам</h2><p>Для того чтобы приступить к проектированию планировщика, нам необходимо понимание некоторых базовых понятий — процессор компьютера и его ядра, планировщик операционной системы и системные треды, что такое конкурентность и параллелизм. Если вам всё это хорошо знакомо, можете смело переходить к следующему разделу.<p><em>Если вам покажется, что после прочтения этого раздела вы мало что запомнили и не всё осознали — это нормально. По ходу дальнейшего повествования я буду регулярно возвращаться к отдельным понятиям отсюда, и постепенно всё само разложится в голове по полочкам, придёт понимание, и тогда всё запомнится само собой.</em><h3>Как устроена параллельная работа компьютера</h3><p>Как вы наверняка понимаете, наш компьютер может выполнять несколько действий одновременно (параллельно) только в том случае, если у его процессора есть несколько ядер.<figure class=full-width><img src=data:, alt="На рисунке у нас два ядра, а значит одновременно могут выполняться только две задачи, остальные ждут" title="На рисунке у нас два ядра, а значит одновременно могут выполняться только две задачи, остальные ждут" width=1316 height=778 data-src=https://habrastorage.org/webt/7j/fz/ki/7jfzkii4j8rykhtspsgwc3qvbx8.png data-sf-original-src=https://habrastorage.org/r/w1560/webt/7j/fz/ki/7jfzkii4j8rykhtspsgwc3qvbx8.png><div><figcaption>На рисунке у нас два ядра, а значит одновременно могут выполняться только две задачи, остальные ждут</figcaption></div></figure><p>Но есть хорошие новости — процессор это очень быстрая штука, поэтому он даже с одним ядром может выполнять огромное количество действий почти одновременно, быстро переключаясь между ними. К примеру, даже на компьютере с одноядерным процессором вы можете "одновременно" смотреть мои ролики на YouTube, писать код, запускать его и выполнять ряд других задач. В каждый момент времени процессор будет выполнять лишь одну задачу, но он так быстро будет переключаться между ними, что вам будет казаться, будто сразу все.<figure class=full-width><img src=data:, alt="Одноядерный процессор в один момент времени выполняет лишь одну задачу, но нам кажется, что много." title="Одноядерный процессор в один момент времени выполняет лишь одну задачу, но нам кажется, что много." width=1548 height=968 data-src=https://habrastorage.org/getpro/habr/upload_files/d14/3b5/d7b/d143b5d7b766b07bb657b454c1a71f77.png data-sf-original-src=https://habrastorage.org/r/w1560/getpro/habr/upload_files/d14/3b5/d7b/d143b5d7b766b07bb657b454c1a71f77.png><div><figcaption>Одноядерный процессор в один момент времени выполняет лишь одну задачу, но нам кажется, что много.</figcaption></div></figure><h4>Мысли о параллельности событий</h4><p>Вообще, в некотором смысле параллельность — это функция от времени, вернее от временного промежутка. К примеру, вы увидели два события, которые показались вам одновременными. Но на самом деле они выполнились с разницей в 0.02 мс. Для нашего мозга это одновременные события, а, к примеру, для камеры замедленной съёмки - нет. Если же события выполнились с разницей в 2 секунды, то даже мы заметим, что они не одновременные.<p>Таким образом, все зависит от размера "окошка" наблюдения. Например, если скорость выполнения операции 10мс, а наше окошко 100мс, то можно сказать, что за это время одновременно выполнится 10 операций, и не важно в каком порядке. Если же взять период в 10мс, то операции будут выполняться последовательно.<figure class=full-width><img src=data:, alt="Камера увидела эти действия как последовательные, а наши глаза как одновременные" title="Камера увидела эти действия как последовательные, а наши глаза как одновременные" width=1956 height=1180 data-src=https://habrastorage.org/webt/fi/ti/o2/fitio2yngo4e07qfrfopjeslidm.png data-sf-original-src=https://habrastorage.org/r/w1560/webt/fi/ti/o2/fitio2yngo4e07qfrfopjeslidm.png><div><figcaption>Камера увидела эти действия как последовательные, а наши глаза как одновременные</figcaption></div></figure><h3>Конкурентность и параллелизм</h3><p>Тем временем мы подобрались к пониманию разницы между параллельным и конкурентным выполнением.<p><strong>Конкурентность</strong> (Concurrency) — это про дизайн нашей программы. А именно, когда у нас есть несколько процессов, которые могут выполняться независимо друг от друга, не важно в каком порядке.<p><strong>Параллельность</strong> (Parallelism) — это уже про выполнение программы, а именно — выполнение нескольких задач в один момент времени.<p>При этом, независимые (конкурентные) процессы могут выполняться как одновременно (параллельно), так и последовательно. К примеру, процессор может постоянно между ними переключаться, но в один момент времени выполняется лишь один процесс. Однако переключаться он может в любые моменты времени, и это не должно никак повлиять на корректность выполнения процессов.<blockquote><p>Другими словами, конкурентность это когда мы <strong>работаем</strong> со множеством вещей одновременно, а параллелизм — когда <strong>выполняем</strong> множество вещей одновременно.</p></blockquote><p>На самом деле, эта тема сложная и глубокая, а её обсуждение может вылиться в отдельный пост —&nbsp;кстати, такой пост у меня <a href=https://t.me/ntuzov/411 rel="noopener noreferrer nofollow" target=_blank>уже есть</a>! В нём я объяснил эти понятия подробнее, а ещё прикрепил ссылки на интересные материалы для дальнейшего изучения.<p>В любом случае, даже если вы сейчас не до конца осознали суть этих понятий, это нормально — во время чтения статьи всё постепенно разложится в голове по полочкам и станет понятней.<h3>Параллельность и конкурентность на уровне ОС</h3><p>А кто же занимается переключением задач и решает, какие из них будут выполняться на ядре, а какие подождут? Занимается этим планировщик операционной системы, и управляет он тредами.<p>Тред (поток) - это последовательность команд, которые выполняются в рамках одного процесса. Говоря простыми словами, это та работа, которая выполняется на процессоре, либо ждёт своей очереди.<p>Каждый тред может находиться в одном из трёх состояний:<ul><li><p><strong>Executing</strong>: выполняется прямо сейчас на одном из ядер</p><li><p><strong>Runnable</strong>: готов к выполнению, дожидается своей очереди</p><li><p><strong>Waiting</strong>: не готов к выполнению, так как ждёт какого-то события. Например, это может быть связано с i/o операцией, взаимодействием с ОС (syscall) и др.</p></ul><figure class=full-width><img src=data:, alt="Системные треды и их состояния" title="Системные треды и их состояния" width=1836 height=802 data-src=https://habrastorage.org/webt/9d/8s/bn/9d8sbnzqsenz4cdzp4aifzkwis4.png data-sf-original-src=https://habrastorage.org/r/w1560/webt/9d/8s/bn/9d8sbnzqsenz4cdzp4aifzkwis4.png><div><figcaption>Системные треды и их состояния</figcaption></div></figure><h4>Переключение контекста</h4><p>Планировщик ОС может в произвольные моменты времени переключать треды — отключать выполняющиеся от ядра процессора и заменять их Runnable тредами. Это называется переключением контекста (context switching). Мы никак не можем повлиять на решения планировщика, как и не можем строить какие-то предсказания на этот счёт — все решения он принимает самостоятельно. Такой подход называется <a href=https://ru.wikipedia.org/wiki/%D0%92%D1%8B%D1%82%D0%B5%D1%81%D0%BD%D1%8F%D1%8E%D1%89%D0%B0%D1%8F_%D0%BC%D0%BD%D0%BE%D0%B3%D0%BE%D0%B7%D0%B0%D0%B4%D0%B0%D1%87%D0%BD%D0%BE%D1%81%D1%82%D1%8C rel="noopener noreferrer nofollow" target=_blank>вытесняющей многозадачностью</a> (Preemptive multitasking).<blockquote><p>Для сравнения, у планировщика Go многозадачность кооперативная — это значит, что горутины (аналог тредов) сами решают, когда уступить ресурсы своим ждущим товарищам. Правда, с одной оговоркой, которая появилась в Go v1.14. К этому мы ещё вернёмся позже.</p></blockquote><p><em>Самое главное, что здесь нужно понимать: треды, это дорого.</em> Давайте разберёмся почему.<p>Во-первых, переключение контекста, занимает довольно много времени: нужно обновить данные в кэшах процессора, сохранить состояние треда и др. Чем больше у нас тредов в состоянии Runnable, тем чаще будет переключаться контекст, и тем медленнее будет работать программа. К примеру, если переключений слишком много, то всем они суммарно могут занимать столько же времени, сколько само выполнение задач (а то и больше):<figure class=full-width><img src=data:, alt="Два примера переключения контекста между задачами. Хорошо: переключение произошло всего один раз; Плохо: переключение происходило очень часто, из-за чего суммарно мы потратили на него времени примерно столько же, сколько на выполнение задач." title="Два примера переключения контекста между задачами. Хорошо: переключение произошло всего один раз; Плохо: переключение происходило очень часто, из-за чего суммарно мы потратили на него времени примерно столько же, сколько на выполнение задач." width=1176 height=904 data-src=https://habrastorage.org/webt/5w/wl/qe/5wwlqe6vsyjglta0bgcacqt4sic.png data-sf-original-src=https://habrastorage.org/r/w1560/webt/5w/wl/qe/5wwlqe6vsyjglta0bgcacqt4sic.png><div><figcaption>Два примера переключения контекста между задачами. <strong>Хорошо</strong>: переключение произошло всего один раз; <strong>Плохо</strong>: переключение происходило очень часто, из-за чего суммарно мы потратили на него времени примерно столько же, сколько на выполнение задач.</figcaption></div></figure><p>Во-вторых, каждый тред отъедает существенную часть памяти нашего компьютера: стек каждого треда часто может занимать до пары мегабайт (в нём хранятся локальные переменные, цепочки вызова функций и др.)<p>Теперь, зная что треды действительно дорогие, мы приходим к пониманию того, что хотим создавать их как можно меньше. Чем меньше тредов, тем реже переключается контекст, тем меньше памяти мы тратим. Это важный момент, на который мы в будущем будем ссылаться очень часто.<p>Для понимания дальнейшего материала нам этого достаточно, но если хотите глубже, то у меня есть более <a href=https://t.me/ntuzov/410 rel="noopener noreferrer nofollow" target=_blank>подробный пост</a> на тему тредов и процессов.<h2>Проектируем собственный планировщик для Go</h2><p>Итак, наконец-то мы добрались до самого интересного. Напомню, наша основная задача — научить наши программы на Go конкурентности и параллельности. Допустим, у нас есть такой код:<pre><code class=go><span class=ͼ4>func</span> <span class=ͼ5>main</span>() {<br>  <span class=ͼ5>task1</span>() <span class=ͼ8>// запускаем первую функцию и ждём её завершения</span><br>  <span class=ͼ5>task2</span>() <span class=ͼ8>// после этого запускаем следующую</span><br>  <br>  <span class=ͼ8>// ...</span><br>}<br></code></pre><p>Функции <code>task1</code> и <code>task2</code> выполнятся <strong>синхронно</strong>, то есть последовательно — <code>task2</code> запустится только после завершения <code>task1.</code> А хотим мы, чтобы <code>task2</code> запускалась не дожидаясь завершения <code>task1</code>, то есть <strong>асинхронно</strong> — то самое конкурентное выполнение. В плане синтаксиса это выглядит очень просто — достаточно лишь добавить go перед вызовом функции:<pre><code class=go><span class=ͼ4>func</span> <span class=ͼ5>main</span>() {<br>  <span class=ͼ4>go</span> <span class=ͼ5>task1</span>() <span class=ͼ8>// запускаем функцию и идём дальше, не дожидаясь её завершения</span><br>  <span class=ͼ4>go</span> <span class=ͼ5>task2</span>() <span class=ͼ8>// запускаем следующую и также идём дальше</span><br>  <br>  <span class=ͼ8>// do some other work..</span><br>}<br></code></pre><p>Таким образом, конкурирующими процессами у нас будут функции, запускаемые с префиксом go.
И поскольку у нас появилась конкуренция за ресурсы —&nbsp;за процессорное время, нам нужна некая сущность, которая будет этим делом управлять. Назовём такую сущность - Планировщик (Scheduler). Вот мы и встретились с этим парнем!<p>Чем же он будет управлять? Вспоминаем, что планировщик ОС управлял тредами, давайте своруем у него эту концепцию! Назовём свой аналог тредов — горутинами (goroutine). В некотором смысле, это будут те же самые потоки выполнения, но внутри нашей программы.<p><em>В других материалах вы могли также видеть определения kernel space (пространство ядра) и user space (пространство пользователя). Так вот —&nbsp;планирование горутин происходит на уровне user space, то есть ими управляет планировщик Go (если точнее — </em><a href=https://pkg.go.dev/runtime rel="noopener noreferrer nofollow" target=_blank><em>Go Runtime</em></a><em>), а планирование тредов на уровне kernel space, то есть ими управляет ОС.</em><p>Поскольку все наши программы выполняются внутри ОС, треды нам всё ещё понадобятся — именно на них будут выполняться горутины. То есть, когда нам необходимо выполнить горутину, мы привязываем к ней тред, и она в нём будет выполняться.<p>Но зачем нам вообще вводить какие-то горутины, если есть треды? Потому что, как мы обсудили выше, треды нас не всегда устраивают в плане эффективности работы. Горутины же мы можем построить таким образом, чтобы они были намного более легковесными по памяти и, самое главное — чтобы переключение между ними было гораздо дешевле, чем переключение между тредами. Это возможно, потому что все они будут жить внутри одного процесса (нашей программы) и иметь общий доступ к памяти, а переключение между ними будет происходить без участия ядра ОС. На самом деле, там есть множество хитрых оптимизаций и нюансов, которые мы будем разбирать, но если кратко —&nbsp;понимая все ограничения тредов, мы будем строить работу горутин таким образом, чтобы максимально выгодно эти треды использовать.<blockquote><p>Вообще, можно сказать, что планировщик Go, это просто способ оптимизировать использование системных тредов —&nbsp;оптимизировать в плане использования ресурсов, а также в плане простоты кода для работы с ними. И чем дальше вы будете погружаться в статью, тем больше будете приходить к пониманию этого.</p></blockquote><p>Итак, давайте всё это подытожим:<ul><li><p>Основной ресурс для выполнения программ —&nbsp;ядра процессора</p><li><p>Ядер мало, а работы у них много, поэтому вводится концепция тредов: треды выполняются на ядрах.</p><li><p>Планировщик ОС управляет тредами и оптимизирует работу с ними таким образом, чтобы ядра не простаивали без работы.</p><li><p>Треды ОС большие и страшные — не потому что их плохо спроектировали, а потому что на уровне ОС есть свои ограничения и особенности работы, поэтому тредов нам доступно мало.</p><li><p>Тредов мало, а работы внутри нашей программы очень много, поэтому вводится концепция горутин: горутины выполняются на тредах</p><li><p>Планировщик Go управляет горутинами и оптимизирует работу с ними таким образом, чтобы создать максимально эффективно использовать треды — создавать их как можно меньше и не позволять им простаивать</p></ul><p>Едем дальше, нашим горутинам, очевидно, понадобятся состояния. Позаимствуем их также у тредов:<ul><li><p><strong>Waiting</strong> — горутина не готова к запуску, так как чего-то ждёт</p><li><p><strong>Runnable</strong> — готова к запуску, как только освободится тред</p><li><p><strong>Executing</strong> — выполняется на каком-то треде</p></ul><p>Таким образом, получаем схему:<figure class=full-width><img src=data:, alt="Горутины и их состояния" title="Горутины и их состояния" width=1488 height=652 data-src=https://habrastorage.org/webt/ei/ab/kk/eiabkkxwqm12kyys-ftktskjati.png data-sf-original-src=https://habrastorage.org/r/w1560/webt/ei/ab/kk/eiabkkxwqm12kyys-ftktskjati.png><div><figcaption>Горутины и их состояния</figcaption></div></figure><p>Ничего не напоминает? Это же точная копия схемы планировщика ОС, которую я приводил выше, отличаются лишь имена сущностей. Действительно, в самом базовом понимании, здесь можно провести аналогию.<p>Далее нам нужно ввести ещё две сущности:<ul><li><p><strong>Машина</strong> для выполнения (M, Machine) — будет непосредственно выполнять горутину.</p><li><p><strong>Процессор</strong> (P, Processor) — будет помещать горутины (G) в Машину.</p></ul><p><em>Не путайте этот Процессор с процессором компьютера или ядрами CPU — названия у них похожие, но суть абсолютно разная (это не моя прихоть, это </em><a href=https://github.com/golang/go/blob/master/src/runtime/proc.go#L28 rel="noopener noreferrer nofollow" target=_blank><em>официальный термин</em></a><em>).</em><p>Теперь картина у нас следующая:<figure class=full-width><img src=data:, alt="Процессор берёт горутину и кладёт её в Машину для выполнения" title="Процессор берёт горутину и кладёт её в Машину для выполнения" width=1954 height=988 data-src=https://habrastorage.org/webt/_t/oy/-w/_toy-wwlua9z5bcb0pkl9tw_wdw.png data-sf-original-src=https://habrastorage.org/r/w1560/webt/_t/oy/-w/_toy-wwlua9z5bcb0pkl9tw_wdw.png><div><figcaption>Процессор берёт горутину и кладёт её в Машину для выполнения</figcaption></div></figure><p>По сути, Машина — это просто системный тред. То есть, Процессор, помещая горутину в Машину, просто привязывает эту горутину к треду. А раз так, то я далее буду называть треды именно тредами, а не машинами, мне так удобней. Термин "Машина" я здесь привёл лишь для того, чтобы вы лучше понимали связь моей статьи с другими материалами.<blockquote><p>К слову, это те самые G, M и P которые вы могли встречать в других статьях и материалах. И вместе они образуют так называемую модель - GMP. Именно к ней мы и придём в конечном итоге.</p></blockquote><p>Итак, набор базовых сущностей у нас есть. Как с их помощью будем добиваться конкурентного и параллельного выполнения? Давайте придумывать. Будем действовать итеративно — сначала придумаем простейшее наивное решение, а затем будем пошагово его усложнять, решая возникающие проблемы.<h3>1. Создаём тред для каждого вызова —&nbsp;Модель 1:1</h3><figure class=full-width><img src=data:, alt="Модель 1:1 — для каждой новой горутины создаётся новый тред" title="Модель 1:1 — для каждой новой горутины создаётся новый тред" width=1384 height=946 data-src=https://habrastorage.org/webt/qd/e8/bn/qde8bn670cpegfnbatqlc1mdnxq.png data-sf-original-src=https://habrastorage.org/r/w1560/webt/qd/e8/bn/qde8bn670cpegfnbatqlc1mdnxq.png><div><figcaption>Модель 1:1 — для каждой новой горутины создаётся новый тред</figcaption></div></figure><p>Самое простое, что можно придумать — создавать по отдельному треду на каждую горутину, а после завершения уничтожать эти треды за ненадобностью. То есть, мы передаём все новые горутины Процессору, он для каждой из них запрашивает новый тред, а когда горутина заканчивает работу, её тред утилизируется.<blockquote><p>Это называется —&nbsp;Модель 1:1, то есть сколько горутин, столько и потоков. Решение вполне рабочее — у нас будет и конкурентность, и параллельность, и мы точно задействуем все ядра процессора при необходимости (потому что планировщик ОС не допустит простаивание тредов, если есть свободные ядра).</p></blockquote><p>К слову, бывает ещё Модель 1:N —&nbsp;это когда все горутины (или их аналоги) всегда используют лишь один поток ОС. Из рассуждений выше мы понимаем, что нам такое не подходит —&nbsp;ведь в этом случае мы лишаемся возможности запускать что-либо параллельно. Но полезно понимать, что бывает и так.<figure class=full-width><img src=data:, alt="Модель 1:N — у всегда есть только один тред, вне зависимости от количества горутин" title="Модель 1:N — у всегда есть только один тред, вне зависимости от количества горутин" width=1848 height=1144 data-src=https://habrastorage.org/webt/we/db/_j/wedb_jl9bubs9srr38d6yp45s_u.png data-sf-original-src=https://habrastorage.org/r/w1560/webt/we/db/_j/wedb_jl9bubs9srr38d6yp45s_u.png><div><figcaption>Модель 1:N — у всегда есть только один тред, вне зависимости от количества горутин</figcaption></div></figure><p>По сути, модель 1:1 делегирует всю работу планировщику ОС. Но всё ли нас тут устраивает? К сожалению, нет. Из вступительного ликбеза мы помним, что создавать и уничтожать треды — это слишком дорого, и мы хотим это минимизировать. Давайте думать, как.<h3>2. Пул тредов</h3><p>Хорошо, если создание и уничтожение тредов дорого, давайте не будем их уничтожать, и вместо создания, по возможности, будем переиспользовать имеющиеся.<p>То есть, как и прежде, мы будем создавать новые треды для горутин, но теперь только при необходимости. А когда тред освобождается (например, горутина завершила свою работу), Процессор вместо уничтожения поместит его в пул, чтобы придержать для других горутин. Ждущий тред не будет выполнять работу, а значит не будет занимать ядро процессора.<figure class=full-width><img src=data:, alt="Три горутины в разных состояниях: Running - выполняется на треде, Runnable - берёт тред из пула, Done - возвращает использованный тред в пул" title="Три горутины в разных состояниях: Running - выполняется на треде, Runnable - берёт тред из пула, Done - возвращает использованный тред в пул" width=1708 height=1030 data-src=https://habrastorage.org/webt/tu/-p/ss/tu-psskpnepytefg5fxwhd9_bvs.png data-sf-original-src=https://habrastorage.org/r/w1560/webt/tu/-p/ss/tu-psskpnepytefg5fxwhd9_bvs.png><div><figcaption>Три горутины в разных состояниях: <strong>Running</strong> - выполняется на треде, <strong>Runnable</strong> - берёт тред из пула, <strong>Done</strong> - возвращает использованный тред в пул</figcaption></div></figure><p>Отлично, мы оптимизировали наш планировщик, избавившись от множества дорогих и ненужных операций создания и уничтожения тредов! Теперь всё хорошо?<p>Нет, всё еще плохо. Вспоминаем - не только создание тредов дорогое, но и само их существование, а мы хотим создавать сотни.. нет, миллионы горутин! Увы, миллионы тредов мы себе позволить не можем. Что будем делать?<h3>3. Ограничиваем размер пула тредов — Модель M:N</h3><p>Если мы не хотим создавать слишком много тредов, очевидно, что нам нужно просто ограничить их максимальное количество, давайте так и сделаем. Схема реализации такого подхода всё ещё довольно простая — когда запускается новая горутина, мы делаем следующее:<p><strong>1. Проверяем, есть ли в пуле свободный тред</strong>. Если есть, берём его для выполнения горутины.<figure class=full-width><img src=data:, alt="В пуле есть свободные треды, берём оттуда" title="В пуле есть свободные треды, берём оттуда" width=1150 height=454 data-src=https://habrastorage.org/webt/2n/lb/nx/2nlbnxqihzehi8excib4i7qdvva.png data-sf-original-src=https://habrastorage.org/r/w1560/webt/2n/lb/nx/2nlbnxqihzehi8excib4i7qdvva.png><div><figcaption>В пуле есть свободные треды, берём оттуда</figcaption></div></figure><p><strong>2. Если нет, проверяем сколько сейчас задействовано тредов</strong>. Если меньше установленного нами лимита, то создаём новый тред и отдаём ему горутину. Когда горутина закончит работу, отправим этот тред в пул.<figure class=full-width><img src=data:, alt="В пуле нет свободных тредов. Видим, что ранее мы создали всего 1 тред из 8 возможных, поэтому создаём новый." title="В пуле нет свободных тредов. Видим, что ранее мы создали всего 1 тред из 8 возможных, поэтому создаём новый." width=1636 height=706 data-src=https://habrastorage.org/webt/mq/eu/fy/mqeufy5ay_yoxqwy3bbr8ybtgvq.png data-sf-original-src=https://habrastorage.org/r/w1560/webt/mq/eu/fy/mqeufy5ay_yoxqwy3bbr8ybtgvq.png><div><figcaption>В пуле нет свободных тредов. Видим, что ранее мы создали всего 1 тред из 8 возможных, поэтому создаём новый.</figcaption></div></figure><p><strong>3. Если же количество тредов достигло лимита</strong>, горутина <strong>будет ждать</strong> пока какой-нибудь из ранее созданных не освободится, вернувшись в пул. Как освободится, передадим ему горутину в работу.<figure class=full-width><img src=data:, alt="В пуле нет свободных тредов, и их лимит исчерпан — на них сейчас выполняются другие горутины. Текущей горутине придётся ждать." title="В пуле нет свободных тредов, и их лимит исчерпан — на них сейчас выполняются другие горутины. Текущей горутине придётся ждать." width=1414 height=616 data-src=https://habrastorage.org/webt/rb/k1/u1/rbk1u1mbkltls6sggoq9wqym0ny.png data-sf-original-src=https://habrastorage.org/r/w1560/webt/rb/k1/u1/rbk1u1mbkltls6sggoq9wqym0ny.png><div><figcaption>В пуле нет свободных тредов, и их лимит исчерпан — на них сейчас выполняются другие горутины. Текущей горутине придётся ждать.</figcaption></div></figure><p>Таким образом, у нас появилась концепция ждущих горутин. Но где они будут ждать? Давайте просто выстроим их в очередь, и назовём эту очередь Global Run Queue (GRQ). Таким образом, каждая новая горутина, которой не достался тред, будет отправляться в GRQ и ждать своего часа.<figure class=full-width><img src=data:, alt="Горутине не достался тред, она отправляется ждать в Global Run Queue" title="Горутине не достался тред, она отправляется ждать в Global Run Queue" width=1436 height=1044 data-src=https://habrastorage.org/webt/-3/ek/ml/-3ekml09uijqsvp1mnrevphwkvs.png data-sf-original-src=https://habrastorage.org/r/w1560/webt/-3/ek/ml/-3ekml09uijqsvp1mnrevphwkvs.png><div><figcaption>Горутине не достался тред, она отправляется ждать в Global Run Queue</figcaption></div></figure><p>Поскольку очереди бывают разные, стоит уточнить — мы будем использовать <a href=https://ru.wikipedia.org/wiki/FIFO rel="noopener noreferrer nofollow" target=_blank>FIFO-очередь</a> (first in, first out), это когда первыми берутся те горутины, которые пришли первыми. Получается логично и честно — чем раньше горутина пришла, тем раньше получит тред.<p><a href=https://ru.wikipedia.org/wiki/LIFO rel="noopener noreferrer nofollow" target=_blank>LIFO-очередь</a> (last in, first out) была бы мене честной и порой проблематичной. К примеру, у нас могла бы возникнуть ситуация, когда горутина, пришедшая первой, никогда не выполняется, потому что постоянно приходят новые горутины и выполняются вместо неё. У LIFO-очередей есть свои плюсы, но сейчас не будем на этом останавливаться.<h4>Размер пула</h4><p>Давайте теперь подумаем, какой лимит на количество тредов мы хотим установить — то есть, какой размер будет у нашего пула? Если мы используем слишком мало тредов, то у нас не будут задействованы все ядра процессора — к примеру, если ядер 8, а тредов всего 4, то 4 ядра будут простаивать. Но и слишком много тредов мы создавать не хотим, ведь это дорого и неэффективно. Так какое же значение будет оптимальным?<p>Ответ лежит на поверхности — мы создадим ровно столько тредов, сколько ядер нам доступно, и тогда ни одно ядро не будет простаивать без работы. Создавать ещё больше тредов нет смысла, ведь тогда часть из них точно будет простаивать в ожидании свободного ядра. То есть, если ядер у нас 8, а тредов 10, то даже в самом лучшем случае 2 треда будут простаивать.<figure class=full-width><img src=data:, alt="На схеме у нас два ядра CPU и, соответственно, два рабочих треда. Одновременно выполняться могут лишь две горутины, остальные ждут своей очереди." title="На схеме у нас два ядра CPU и, соответственно, два рабочих треда. Одновременно выполняться могут лишь две горутины, остальные ждут своей очереди." width=1380 height=1106 data-src=https://habrastorage.org/webt/mn/k6/wd/mnk6wdddwrrhehesubvffsxjyve.png data-sf-original-src=https://habrastorage.org/r/w1560/webt/mn/k6/wd/mnk6wdddwrrhehesubvffsxjyve.png><div><figcaption>На схеме у нас два ядра CPU и, соответственно, два рабочих треда. Одновременно выполняться могут лишь две горутины, остальные ждут своей очереди.</figcaption></div></figure><p><strong>Важный момент</strong>: теперь, когда количество тредов у нас строго ограничено, мы можем себе позволить к каждому из них приставить по отдельному Процессору (P). То есть, у каждого Процессора теперь будет свой собственный тред. Это пока никак не влияет на общую картину, но дальше работа с каждым тредом будет становиться всё сложнее, и такой подход нам очень поможет.<blockquote><p>Таким образом, мы пришли к реальной модели, которая называется M:N Threading. Она заключается в том, что мы выполняем N горутин на M тредах.</p></blockquote><p>Кстати, уже сейчас мы приблизились к пониманию функции <code>runtime.GOMAXPROCS()</code> — Она задаёт максимальное количество Процессоров, которые наша программы будет использовать. То есть, по дефолту их будет ровно столько, сколько ядер доступно — <code>runtime.NumCPU()</code>, но если мы хотим меньше, то можем задать их точное количество следующим образом:<pre><code class=go><span class=ͼ8>// Максимальное количество процессоров = 2,</span><br><span class=ͼ8>// вне зависимости от количества ядер CPU</span><br><span class=ͼ5>runtime</span><span class=ͼ9>.</span><span class=ͼ5>GOMAXPROCS</span>(<span class=ͼ9>2</span>)</code></pre><p>Также эта функция возвращает текущую настройку, и если вы хотите просто посмотреть это значение, не изменяя его, можете вызвать с аргументом 0:<pre><code class=go><span class=ͼ8>// Максимальное количество процессоров не изменится,</span><br><span class=ͼ8>// а функция просто вернёт это значение</span><br><span class=ͼ5>n</span> :<span class=ͼ6>=</span> <span class=ͼ5>runtime</span><span class=ͼ9>.</span><span class=ͼ5>GOMAXPROCS</span>(<span class=ͼ9>0</span>) </code></pre><h4>Mutex для Global Run Queue</h4><p>Тем временем, у нас возникла ещё одна серьезная проблема. Если несколько параллельных процессов имеют доступ к общему ресурсу, то нам необходим механизм синхронизации доступа. Иначе может получиться так, что два Процессора попытаются забрать себе в работу одну горутину и что-нибудь сломают — например, оба начнут эту горутину выполнять.<blockquote><p>Поведение, когда несколько конкурентных процессов получают доступ к общему ресурсу называется - <a href=https://ru.wikipedia.org/wiki/%D0%A1%D0%BE%D1%81%D1%82%D0%BE%D1%8F%D0%BD%D0%B8%D0%B5_%D0%B3%D0%BE%D0%BD%D0%BA%D0%B8 rel="noopener noreferrer nofollow" target=_blank>состояние гонки</a> (race condition). В общем случае оно непредсказуемо и опасно. Его нельзя допускать ни в коем случае.</p></blockquote><p>Чтобы избежать этого, мы используем самый простой примитив синхронизации — <a href=https://ru.wikipedia.org/wiki/%D0%9C%D1%8C%D1%8E%D1%82%D0%B5%D0%BA%D1%81 rel="noopener noreferrer nofollow" target=_blank>мьютекс</a> (mutex, lock). Если вы с ним не знакомы, советую обязательно познакомиться — это очень простой, но важный механизм, который очень часто встречается. Говоря простым языком, с его помощью каждый Процессор сможет временно блокировать очередь, чтобы поработать с ней —&nbsp;в нашем случае, достать оттуда горутину. Пока она заблокирована, никто другой не может с ней взаимодействовать. Таким образом, пока один Процессор достаёт из GRQ горутину, остальным Процессорам придется подождать.<figure class=full-width><img src=data:, alt="Процессор слева не может взять горутину из GRQ, потому что Процессор справа её заблокировал на время своей работы." title="Процессор слева не может взять горутину из GRQ, потому что Процессор справа её заблокировал на время своей работы." width=1602 height=1006 data-src=https://habrastorage.org/webt/d7/pl/vr/d7plvr_yols2pflyqn0g2iu-1mk.png data-sf-original-src=https://habrastorage.org/r/w1560/webt/d7/pl/vr/d7plvr_yols2pflyqn0g2iu-1mk.png><div><figcaption>Процессор слева не может взять горутину из GRQ, потому что Процессор справа её заблокировал на время своей работы.</figcaption></div></figure><p>Кстати, мы уже начинаем приближаться к реальному планирощику Go, у него тоже:<ul><li><p>Есть Global Run Queue с мьютексом</p><li><p>Количество рабочих тредов совпадает с количеством ядер CPU</p><li><p>У каждого процессора есть свой тред</p></ul><p>Вы спросите: <em>Николай, неужели и эта схема тебе чем-то не нравится? Всё ведь идеально работает! Да? </em>Нет! Вернее, не совсем. Если у нашего компьютера всего 2 ядра, то всё супер, схема будет работать хорошо. Но что если ядер будет больше? Например, 16, 32.. 64? С ростом количества ядер у нас вырастет и количество тредов, а очередь при этом остаётся одна на всех.<p>То есть, даже если у нас будет очень много Процессоров, в каждый момент времени с очередью может работать лишь один из них. Введение мьютекса решило одну нашу проблему, но создало другую — работа с общим ресурсом (GRQ) сильно замедлилась.<blockquote><p>К слову, здесь вы можете осознать очень важный момент в любых системах —&nbsp;в проектировании любых систем не бывает бесплатных оптимизаций, это почти всегда трейдофы: оптимизировали работу CPU, пожертвовав памятью; оптимизирвоали память, но увеличили нагрузку на CPU и т.п. <br>И, как обычно, об этом у меня также <a href=https://t.me/ntuzov/633 rel="noopener noreferrer nofollow" target=_blank>есть более подробный пост</a>.</p></blockquote><p>Как будем решать эту проблему?<h3>4. Локальные очереди</h3><p>Чтобы решить проблему блокировок.. Нужно избавиться от блокировок! А для этого надо сделать так, чтобы процессоры не обращались к общей очереди. Чтобы этого добиться, мы подарим каждому Процессору собственную очередь — Local Run Queue (LRQ). Поскольку к каждой LRQ будет иметь доступ лишь один процессор, блокировка не потребуется.<p>При этом, от GRQ с её мьютексом мы не избавляемся, она нам ещё пригодится — туда мы будем помещать горутины, которые пока не привязаны ни к одному из Процессоров, и оттуда горутины, в конечном итоге, всегда попадают в LRQ, и лишь после этого выполняются. К этому мы ещё вернёмся позже.<p>Теперь вся наша схема выглядит так:<figure class=full-width><img src=data:, alt="На этом изображении у нас ядра CPU и каждому из них соответствуют свой тред, свой Процессор и своя LRQ. Также тут изображена GRQ, которая не привязана ни к одному из Процессоров." title="На этом изображении у нас ядра CPU и каждому из них соответствуют свой тред, свой Процессор и своя LRQ. Также тут изображена GRQ, которая не привязана ни к одному из Процессоров." width=1510 height=1214 data-src=https://habrastorage.org/webt/ja/oy/av/jaoyavc_tezjhjaf3ml3qasj3ck.png data-sf-original-src=https://habrastorage.org/r/w1560/webt/ja/oy/av/jaoyavc_tezjhjaf3ml3qasj3ck.png><div><figcaption>На этом изображении у нас ядра CPU и каждому из них соответствуют свой тред, свой Процессор и своя LRQ. Также тут изображена GRQ, которая не привязана ни к одному из Процессоров.</figcaption></div></figure><p>В получившейся схеме мы видим горутины в состоянии Runnable (находятся в очереди) и Running (выполняются Процессором). Ничего не забыли? А где же Waiting горутины? Напомню, это те горутины, которые чем-то заблокированы и не могут быть запущены. Так куда же их поместить? Может, для них нужно завести в Процессоре отдельную очередь — Wait Queue?<p>На самом деле, Процессору не придется следить за Waiting горутинами, этим будут заниматься другие сущности. К примеру, если горутина заблокирована из-за чтения или записи в канал, то она попадёт в Wait Queue этого канала, и уже оттуда попадёт в GRQ и LRQ. У меня есть очень подробный <a href="https://youtu.be/ZTJcaP4G4JM?si=RQC5T1LstdhIRLrM" rel="noopener noreferrer nofollow" target=_blank>ролик про каналы</a>, где я, кроме прочего, разбираю и этот механизм. Аналогичные механизмы также есть у мьютекстов, таймеров и Network IO.<h4>Порядок проверки очередей</h4><p>Теперь у нас есть два типа очередей - LRQ и GRQ. Соответственно, каждый Процессор может брать работу в двух местах, а значит нам нужно определиться, в каком порядке он будет это делать.<blockquote><p>Очевидно, что сначала Процессор будем заглядывать в LRQ, ведь она самая быстрая, именно ради этого мы её и ввели. Но если там пусто, то далее Процессор заглянет в GRQ.</p></blockquote><p>Правда, тут может возникнуть ещё одна проблема — если LRQ всех процессоров постоянно пополняется, то Процессоры всегда будут брать работу оттуда, и никогда не доберутся до GRQ. Это плохо, потому что горутины в глобальной очереди начнут застаиваться, поэтому нам стоит иногда проверять её вне очереди. Но как часто? Очевидно,&nbsp;один раз из 61! То есть, алгоритм получения горутины Процессором такой:<ol><li><p>1/61 раз проверяем GRQ, и если там есть горутины, то берём оттуда</p><li><p>Если нет, проверяем LRQ</p><li><p>Если и там нет, проверяем GRQ</p><li><p>... Тут будут ещё пункты, но о них поговорим позже</p></ol><p>Вы спросите — но почему 1/61, что за магическое число? Самое главное тут —&nbsp;оно простое, и это помогает избежать синхронизации проверок между разными P, распределяя их более равномерно. К тому же, оно не слишком большое и не слишком маленькое —&nbsp;то есть, GRQ будет проверяться не слишком часто и не слишком редко.<h3>5. Work stealing</h3><p>Итак, наш планировщик становится всё сложнее, но работает всё лучше и становится всё больше похожим на настоящий. Однако, до идеала всё ещё далеко. Какая же проблема нас беспокоит в этот раз? Вы наверняка помните, что с самого начала нас очень беспокоила проблема простаивающих без дела ядер. Казалось бы, мы от этой проблемы давно избавились, но нет. Взгляните на эту схему:<figure class=full-width><img src=data:, alt="Горутины грустят, потому что им приходится ждать, хотя у нас есть свободный Процессор. А мы грустим, потому что у нас простаивает без работы целое ядро процессора." title="Горутины грустят, потому что им приходится ждать, хотя у нас есть свободный Процессор. А мы грустим, потому что у нас простаивает без работы целое ядро процессора." width=1508 height=1150 data-src=https://habrastorage.org/webt/xq/ft/sf/xqftsfjivrlxyvw188bp4ssjx6s.png data-sf-original-src=https://habrastorage.org/r/w1560/webt/xq/ft/sf/xqftsfjivrlxyvw188bp4ssjx6s.png><div><figcaption>Горутины грустят, потому что им приходится ждать, хотя у нас есть свободный Процессор. А мы грустим, потому что у нас простаивает без работы целое ядро процессора.</figcaption></div></figure><p>Итак, у одного Процессора работы много, а у другого её нет вовсе. Как быть? Давайте научим Процессоры воровать работу друг у друга! А именно, если LRQ одного Процессора пустая, то он заглянет в LRQ любого другого Процессора и возьмёт горутину оттуда. Или даже лучше — пусть он заберёт оттуда сразу половину горутин, чтобы не ходить потом лишний раз.<figure class=full-width><img src=data:, alt="Процессор #2 был без работы, поэтому он украл половину горутин у соседа. Теперь ему есть чем заняться!" title="Процессор #2 был без работы, поэтому он украл половину горутин у соседа. Теперь ему есть чем заняться!" width=1524 height=1142 data-src=https://habrastorage.org/webt/r4/2h/6t/r42h6teejmqshkarmswetuvexys.png data-sf-original-src=https://habrastorage.org/r/w1560/webt/r4/2h/6t/r42h6teejmqshkarmswetuvexys.png><div><figcaption>Процессор #2 был без работы, поэтому он украл половину горутин у соседа. Теперь ему есть чем заняться!</figcaption></div></figure><p>Таким образом мы будем автоматически балансировать работу между всеми нашими Процессорами. И полный алгоритм теперь будет выглядеть так:<ol><li><p>1/61 раз проверяем GRQ, и если там есть горутины, то берём оттуда</p><li><p>Если нет, проверяем LRQ</p><li><p>Если там нет, пытаемся украсть у другого Процессора</p><li><p>Если не получилось, проверяем GRQ</p><li><p><em>... Здесь мы будем проверять Network Poller, но об этом позже</em></p></ol><h3>6. Handoff</h3><p>Как же хорош стал наш Планировщик! Но давайте и здесь найдём проблему. Что если горутина выполнит какую-то блокирующую операцию, например системный вызов (syscall)? Тогда эта горутина заблокирует нам целый тред, и ядро процессора снова будет простаивать, при том что у нас в очереди есть Runnable горутины.<figure class=full-width><img src=data:, alt="Горутина выполнила syscall и заблокировала тред - ядро CPU простаивает без работы" title="Горутина выполнила syscall и заблокировала тред - ядро CPU простаивает без работы" width=1510 height=1126 data-src=https://habrastorage.org/webt/9j/mh/sc/9jmhscwgxc5gqoy_ygxgjqqzcwq.png data-sf-original-src=https://habrastorage.org/r/w1560/webt/9j/mh/sc/9jmhscwgxc5gqoy_ygxgjqqzcwq.png><div><figcaption>Горутина выполнила syscall и заблокировала тред - ядро CPU простаивает без работы</figcaption></div></figure><p>Ещё раз обращаю ваше внимание — заблокированы не только горутина с Процессором, но и сам тред тоже заблокирован системным вызовом. То есть, мы не можем просто отправить эту ждущую горутину ждать где-нибудь в другом месте, передав треду какую-то другую работу. Поэтому нам придётся отправить их куда-нибудь вместе — и тред, и горутину.<blockquote><p>Здесь важно понимать, что вообще такое системный вызов (он же syscall, он же сискол). Если не знаете — это очередная must have тема вам в копилочку, обязательно разберитесь глубже.<p>А пока давайте так — представьте, что вы позвонили коллеге и задали ему вопрос. Вопрос был сложный, коллега глубоко задумался, а вы вынуждены ждать. Пока он думает, вы не можете заниматься другими полезными делами, вы заблокированы ожиданием. Освободитесь вы как только коллега придумает ответ и сообщит его вам.<p><em>Так вот, звонок коллеге —&nbsp;это и есть syscall, а вы —&nbsp;тред, который его выполняет</em>.</p></blockquote><p>Итак, если тред заблокирован системным вызовом, он больше не может выполнять работу. В таком состоянии он нам не особо полезен, поэтому мы просто отвяжем его от Процессора, создадим новый тред и привяжем к Процессору его. Такой механизм называется - handoff.<figure class=full-width><img src=data:, alt="Пока тред #1 ждёт ответа от системного вызова, его Процессор будет привязан к другому свободному треду" title="Пока тред #1 ждёт ответа от системного вызова, его Процессор будет привязан к другому свободному треду" width=1680 height=712 data-src=https://habrastorage.org/webt/js/qi/k_/jsqik_tzyapmj--ykpktnf8ggpu.png data-sf-original-src=https://habrastorage.org/r/w1560/webt/js/qi/k_/jsqik_tzyapmj--ykpktnf8ggpu.png><div><figcaption>Пока тред #1 ждёт ответа от системного вызова, его Процессор будет привязан к другому свободному треду</figcaption></div></figure><p>Возвращаясь к аналогии с вопросом коллеге —&nbsp;пока вы с ним болтаете, ваш начальник просит освободить рабочий компьютер, чтобы другой коллега смог на нём поработать (да, у вашей компании тяжелые времени и компьютеров на всех не хватает...)<p>Что ж, механизм неплохой, но он довольно дорогой, так как из-за него постоянно создаются новые треды, а ведь мы очень старались этого избежать. К сожалению, здесь это неизбежно — большое количество syscall'ов всегда будет порождать большое количество тредов. Однако, мы можем немного оптимизировать процесс.<h4>Sysmon</h4><p>Некоторые системные вызовы короткоживущие, то есть блокируют треды на очень короткий промежуток времени. Создавать для них каждый раз по отдельному треду невыгодно, поэтому сделаем такую хитрую оптимизацию:<ul><li><p>Если мы знаем, что системный вызов заблокирует тред надолго, то мы сразу выполним handoff.</p><li><p>В остальных случаях мы позволим треду какое-то время оставаться в заблокированном состоянии, периодически проверяя, не освободился ли он. Если он превысит некоторый таймаут (а именно, 10ms), то также запускаем handoff</p></ul><p>Процесс, который выполняет эти проверки, будет постоянно выполняться в фоне, и называется он - <strong>Sysmon</strong>.<figure class=full-width><img src=data:, alt="Sysmon следит за временем, и если sycall затянулся, он инициирует handoff" title="Sysmon следит за временем, и если sycall затянулся, он инициирует handoff" width=1670 height=626 data-src=https://habrastorage.org/getpro/habr/upload_files/7f9/436/765/7f9436765142c3d3bc4c77f1f5096f57.png data-sf-original-src=https://habrastorage.org/r/w1560/getpro/habr/upload_files/7f9/436/765/7f9436765142c3d3bc4c77f1f5096f57.png><div><figcaption>Sysmon следит за временем, и если sycall затянулся, он инициирует handoff</figcaption></div></figure><p>Кстати, а на каком треде будет выполняться сам Sysmon? Очевидно, что тредам, которые выполняют горутины, мы не можем это доверить, так как они в любой момент могут заснуть (а именно это мы и пытаемся отследить). Да и своих дел у них без того хватает. Получается, нам нужно завести для мониторинга отдельный тред, который будет выполнять свою работу независимо от рабочих тредов.<p>Так, стоп.. Мы ведь ранее договорились, что ограничиваем количество тредов - их не должно быть больше количества ядер. Да, это всё ещё в силе, но тут стоит уточнить, что эта договорённость касается лишь активных тредов, обрабатывающих горутины. То есть, это не касается специальных тредов, выполняющих особые задачи, а также тредов с состоянии Waiting. Так что, тут у нас всё хорошо, противоречий нет.<details class=spoiler><summary>Скрытая шутка с отсылкой к Звёздным Войнам</summary><div class=spoiler__content><figure class=full-width><img src=data:, alt="Я постараюсь больше ничего не менять..." title="Я постараюсь больше ничего не менять..." width=1236 height=936 data-src=https://habrastorage.org/getpro/habr/upload_files/c09/f11/79f/c09f1179f33e296cb210308047dfa8bd.png data-sf-original-src=https://habrastorage.org/r/w1560/getpro/habr/upload_files/c09/f11/79f/c09f1179f33e296cb210308047dfa8bd.png><div><figcaption>Я постараюсь больше ничего не менять...</figcaption></div></figure><p></p></div></details><p>Итак, мы отвязали горутину вместе с тредом и оставили их где-то ждать возврата из системного вызова. Что будем делать, когда они дождутся? Первым делом, из соображений оптимизации, мы хотим вернуть горутину тому процессору, у которого её забрали. Но только при условии, что он сейчас свободен, то есть не занят выполнением другой горутины. Если занят, мы поищем другие свободные процессоры. Если же свободных нет, отправим горутину в GRQ.<blockquote><p>К слову, можно сказать, что теперь мы перешли от модели M:N Threading к модели M:P:N Threading. То есть, у нас по прежнему N горутин и M тредов, но также у нас P процессоров. Конечно, сущность процессора мы ввели уже давно, но ранее общее количество используемых тредов и процессоров у нас совпадало, а теперь нет.</p></blockquote><p>Handoff — крутой механизм, но он всё же неизбежно приводит к созданию новых тредов. Можем ли мы ещё как-то оптимизировать работу планировщика, чтобы реже прибегать к его использованию? Да, можем - если syscall способен выполняться асинхронно.<h3>7. Network Poller</h3><p>Блокировка треда при системном вызове, это ограничение на уровне операционной системы, то есть программно мы никак не можем с этим бороться. Но, к счастью, сама ОС обычно предоставляет механизмы, с помощью которых это ограничение можно обойти. А именно, это механизмы для выполнения асинхронных системных вызовов, например: <a href=https://ru.wikipedia.org/wiki/Epoll rel="noopener noreferrer nofollow" target=_blank>epoll</a> (Linux), <a href=https://en.wikipedia.org/wiki/Kqueue rel="noopener noreferrer nofollow" target=_blank>kqueue</a> (MacOS, BSD), <a href=https://en.wikipedia.org/wiki/Input/output_completion_port rel="noopener noreferrer nofollow" target=_blank>IOCP</a> (Windows). Чаще всего, это касается сетевых операций. Мы не будем здесь сильно углубляться в эти механизмы, но если у вас появится такое желание, вы уже знаете куда копать.<p>Давайте разберемся, в чем суть. Ранее наши треды действовали так:<ol><li><p>Совершается системный вызов</p><li><p>Тред блокируется на время ожидания ответа</p><li><p>После получения ответа тред разблокируется</p><li><p>Продолжение работы</p></ol><p>Перечисленные же выше механизмы позволяют делать так:<ol><li><p>Тред инициирует системный вызов и идёт по другим своим делам. Системный вызов будет зарегистрирован в специальной системе, и мы сможем вернуться к нему позже.</p><li><p>Периодически проверяем, не пришел ли ответ для системного вызова</p></ol><p>Таким образом, работа с системным вызовов происходит асинхронно.<figure class=full-width><img src=data:, alt="Мы регистрируем syscall в epoll, благодаря чему наш тред остался свободен и может выполнять другие горутины" title="Мы регистрируем syscall в epoll, благодаря чему наш тред остался свободен и может выполнять другие горутины" width=1718 height=782 data-src=https://habrastorage.org/webt/jv/cz/ow/jvczowdenkxd1lmu9byyrhwb6ss.png data-sf-original-src=https://habrastorage.org/r/w1560/webt/jv/cz/ow/jvczowdenkxd1lmu9byyrhwb6ss.png><div><figcaption>Мы регистрируем syscall в epoll, благодаря чему наш тред остался свободен и может выполнять другие горутины</figcaption></div></figure><blockquote><p>Чтобы стало ещё понятней, давайте вернёмся к примеру со звонком коллеге из раздела про Handoff.<p>Представьте, что вместо телефонного звонка вы решили отправить коллеге сообщение в мессенджере. Теперь вам не нужно тратить время на ожидание, вы просто сворачиваете мессенджер и продолжаете заниматься другими делами. Вам лишь нужно переодически открывать окошко диалога с коллегой, чтобы проверить наличие ответа. Именно в этом и заключается суть описанных выше механизмов. То есть, вы — тред, ваш диалог с коллегой — горутина, а мессенджер — этот самый механизм (epoll и т.п.)</p></blockquote><p>К сожалению, не все syscall'ы могут выполняться асинхронно — представьте, что ваш коллега не может просто дать ответ на вопрос, вам нужно активно эту тему обсуждать. В таком случае, не получится просто подождать, вы в любом случае будете заблокированы.<p>Итак, мы получили крутой инструмент, и теперь давайте научим наш планировщик им пользоваться. Для начала, нам понадобится компонент, который будет вести учёт системных вызовов, которые нужно проверить на наличие ответов — назовём его Network Poller (netpoller).<p>Если горутина собирается выполнить системный вызов, который может выполняться асинхронно, мы, вместо блокировки треда:<ul><li><p>Регистрируем операцию в Network Poller</p><li><p>Переводим горутину в состояние Waiting и передаём её Netpoller'у</p><li><p>Процессор освобождается для выполнения других горутин</p></ul><figure class=full-width><img src=data:, alt="Горутина выполнила асинхронный syscall, и мы передали её Network Poller'у" title="Горутина выполнила асинхронный syscall, и мы передали её Network Poller'у" width=1696 height=850 data-src=https://habrastorage.org/webt/fo/oq/x1/fooqx1pjsyvq311ahycjsb4acg0.png data-sf-original-src=https://habrastorage.org/r/w1560/webt/fo/oq/x1/fooqx1pjsyvq311ahycjsb4acg0.png><div><figcaption>Горутина выполнила асинхронный syscall, и мы передали её Network Poller'у</figcaption></div></figure><p>Ещё раз подчеркну основную фишку данного механизма — ждущие горутины не занимают тред, и могут находиться в таком состоянии сколько понадобится, никак не замедляя работу программы.<p>Когда сисколл заканчивается, горутина снова переходит в состояние runnable, то есть она готова продолжать работу. Когда у Процессоров будет заканчиваться работа, они сами будут обращаться к Netpoller'у, чтобы забрать себе освободившиеся горутины. Итого, алгоритм поиска работы для каждого Процессора выглядит так:<ol><li><p>1/61 раз проверяем GRQ, и если там есть горутины, то берём оттуда</p><li><p>Если нет, проверяем LRQ</p><li><p>Если там нет, пытаемся украсть у другого Процессора</p><li><p>Если не получилось, проверяем GRQ</p><li><p>Проверяем Network Poller</p></ol><figure class=full-width><img src=data:, alt="У Процессора закончилась работа и он пошел к netpoller'у, чтобы посмотреть, нет ли там освободившихся горутин, которые можно снова брать в работу." title="У Процессора закончилась работа и он пошел к netpoller'у, чтобы посмотреть, нет ли там освободившихся горутин, которые можно снова брать в работу." width=1726 height=872 data-src=https://habrastorage.org/webt/vx/er/4m/vxer4mmrtvfjodkfvxxsjgiw674.png data-sf-original-src=https://habrastorage.org/r/w1560/webt/vx/er/4m/vxer4mmrtvfjodkfvxxsjgiw674.png><div><figcaption>У Процессора закончилась работа и он пошел к netpoller'у, чтобы посмотреть, нет ли там освободившихся горутин, которые можно снова брать в работу.</figcaption></div></figure><p>Здесь всё еще остаётся маленькая проблемка —&nbsp;может так получиться, что работы у Процессоров всегда хватает, и они вообще перестают проверять netpoller, либо делают это очень редко. Это не очень честно по отношению к ожидающим там горутинам, поэтому мы научим Sysmon делать подобные проверки в фоне —&nbsp;если к netpoller'у никто не обращался более 10мс, то это сделает Sysmon. При этом, он переместит освободившиеся горутины в GRQ, а дальше Процессоры сами выполнят балансировку с помощью механизмов, которые мы обсудили выше (помните, что GRQ проверяется вне очереди раз в 1/61 итерацию).<p>Теперь давайте ещё раз подчеркнём, что не все syscall'ы поддерживают асинхронную работу. К примеру, сетевые операции поддерживают, а файловые — нет. Как это знание можно использовать на практике? Очень просто:<pre><code class=go><span class=ͼ8>// Это будет работать через netpoller</span><br><span class=ͼ5>conn</span>, <span class=ͼ5>_</span> :<span class=ͼ6>=</span> <span class=ͼ5>net</span><span class=ͼ9>.</span><span class=ͼ5>Dial</span>(<span class=ͼ7>"tcp"</span>, <span class=ͼ7>"example.com:80"</span>)<br><span class=ͼ5>data</span>, <span class=ͼ5>_</span> :<span class=ͼ6>=</span> <span class=ͼ5>conn</span><span class=ͼ9>.</span><span class=ͼ5>Read</span>(<span class=ͼ5>buf</span>)<br><br><span class=ͼ8>// А это заблокирует тред</span><br><span class=ͼ5>file</span>, <span class=ͼ5>_</span> :<span class=ͼ6>=</span> <span class=ͼ5>os</span><span class=ͼ9>.</span><span class=ͼ5>Open</span>(<span class=ͼ7>"bigfile.dat"</span>) <span class=ͼ5>data</span>, <span class=ͼ5>_</span> :<span class=ͼ6>=</span> <span class=ͼ5>file</span><span class=ͼ9>.</span><span class=ͼ5>Read</span>(<span class=ͼ5>buf</span>)</code></pre><p>Поэтому при проектировании Go приложений важно понимать эту разницу:<ul><li><p>Для I/O операций с сетью можно смело использовать горутины — они будут эффективно обрабатываться через netpoller (тут тоже есть свои ограничения, но другие)</p><li><p>Для операций с файлами нужно быть намного аккуратнее, так как они будут блокировать треды.</p></ul><blockquote><p>На самом деле, в обоих случаях мы приходим к тому, что нам лучше использовать пул воркеров, но по разным причинам и с разными ограничениями.</p></blockquote><p>Что ж, одной проблемой меньше, поэтому двигаемся дальше и решаем следующую.<h3>8. Порядок выполнения горутин</h3><p>Итак, мы придумали очень сложный механизм распределения горутин по Процессорам. Он уже работает достаточно хорошо, горутины распределяются очень эффективно. Теперь давайте обсудим, в каком порядке процессоры будут выполнять свои горутины из LRQ.<p>Самое простое, что тут можно придумать — просто выполнять все горутины по очереди (слово "очереди" вам сегодня будет сниться!). То есть, Процессор берёт первую горутину из LRQ, выполняет её, затем берёт следующую, выполняет её и так далее. Если горутины у нас короткоживущие, то это будет неплохо работать.<p>Вы уже понимаете в чём тут проблема? А что если у нас есть долгие или даже вечные горутины? К примеру, нам ничто не мешает запустить сотню горутин, которые будут периодически что-нибудь проверять на протяжении всей работы программы. Но поскольку ядер и, соответственно, Процессоров у нас ограниченное количество — скажем, 8 штук, из всех этих горутин выполняться будут только 8, остальные будут вечно ждать. <figure class=full-width><img src=data:, alt="Текущая горутина выполняется очень долго, а остальные вынуждены простаивать, ожидая её" title="Текущая горутина выполняется очень долго, а остальные вынуждены простаивать, ожидая её" width=1368 height=514 data-src=https://habrastorage.org/getpro/habr/upload_files/db2/c1f/640/db2c1f6400a495dc38cb6ae9648be1ae.png data-sf-original-src=https://habrastorage.org/r/w1560/getpro/habr/upload_files/db2/c1f/640/db2c1f6400a495dc38cb6ae9648be1ae.png><div><figcaption>Текущая горутина выполняется очень долго, а остальные вынуждены простаивать, ожидая её</figcaption></div></figure><p>Это плохо, ведь каждая горутина должна получить свою долю процессорного времени. Как будем решать? Очень просто — <em>в определенные моменты времени горутина будет проверять, не пора ли ей прерваться и дать поработать другим</em>.<p>Осталось определиться, в какие именно моменты она будет это делать и как будет понимать, что ей пора отдохнуть. Начнём с первого — проверки нужно выполнять в те моменты, которые безопасны и оптимальны для вытеснения. Лучше всего нам подходят вот такие точки:<ul><li><p><strong>Перед вызовом функций</strong> (пролог): Когда функция вызывается, создаётся фрейм стека (выделенная область в памяти, где хранятся локальные переменные, адрес возврата и другие данные функции). При прерывании в момент вызова функции вся нужная информация уже сохранена во фрейме, поэтому горутину можно приостановить без риска потерять данные. При возобновлении выполнения горутина начнёт с этого вызова функции, используя те же значения переменных.</p><li><p><strong>При совершении блокирующих операций</strong> (наши любимые syscall'ы, таймеры и прочее): в эти моменты горутина всё равно будет ждать и простаивать, поэтому пусть поработает кто-то другой</p></ul><p>Окей, вот горутина попала в точку проверки. А по какому признаку она поймёт, что ей пора уступить Процессор? Давайте поступим максимально просто и топорно — выдадим каждой горутине флаг <code>stackguard</code>. Когда нам нужно прервать горутину, мы установим этому флагу специальное значение <code>stackPreempt</code>. При следующей проверке горутина увидит это значение и поймет, что ей пора передать управление планировщику.<p>Теперь разберёмся, кто и когда будет сообщать горутине о необходимости прерваться. И здесь нам снова поможет наш старый знакомый — Sysmon. Давайте добавим ему ещё одну задачу. Помимо проверки заблокированных syscall'ов, он также будет проверять время выполнения активных горутин. Если какая-то из них работает слишком долго (больше 10мс), Sysmon установит ей флаг <code>stackguard=stackPreempt</code>, чтобы при следующей проверке она прервалась.<figure class=full-width><img src=data:, alt="Горутина проверяет значение stackguard, которое устанавливает Sysmon. Если оно равно stackPreempt, то она передаёт управление планировщику" title="Горутина проверяет значение stackguard, которое устанавливает Sysmon. Если оно равно stackPreempt, то она передаёт управление планировщику" width=1720 height=668 data-src=https://habrastorage.org/getpro/habr/upload_files/c81/de7/acf/c81de7acf8cdb92a736993ad2fd957d8.png data-sf-original-src=https://habrastorage.org/r/w1560/getpro/habr/upload_files/c81/de7/acf/c81de7acf8cdb92a736993ad2fd957d8.png><div><figcaption>Горутина проверяет значение stackguard, которое устанавливает Sysmon. Если оно равно stackPreempt, то она передаёт управление планировщику</figcaption></div></figure><blockquote><p>Такой подход к планированию называется <a href=https://en.wikipedia.org/wiki/Cooperative_multitasking rel="noopener noreferrer nofollow" target=_blank>кооперативной многозадачностью</a> (Cooperative multitasking) — это когда процессы сами решают, когда отдать управление другим. В отличие от вытесняющей многозадачности операционной системы, где тред может быть прерван в любой момент, здесь горутины сами контролируют момент передачи управления.</p></blockquote><p>Всё ли тут хорошо? В целом, уже достаточно неплохо — в таком виде планировщик Go существовал долгое время и назывался кооперативным. Но всё это время существовала одна очень известная проблема, которую <a href=https://go.dev/doc/go1.14#runtime rel="noopener noreferrer nofollow" target=_blank>окончательно решили только в версии Go 1.14</a>.<h4>Принудительное вытеснение жадных горутин в Go v1.14</h4><p>Давайте представим следующую ситуацию. Допустим, у нас всего один Процессор — этого легко добиться с помощью функции runtime.GOMAXPROCS, и он обрабатывает горутину. Эта горутина что-то активно считает и не хочет передавать управление — например, выполняет какие-то вычисления в бесконечном цикле:<pre><code class=go><span class=ͼ4>func</span> <span class=ͼ5>main</span>() {<br>   <span class=ͼ8>// Устанавливаем количество процессоров = 1</span><br>   <span class=ͼ5>runtime</span><span class=ͼ9>.</span><span class=ͼ5>GOMAXPROCS</span>(<span class=ͼ9>1</span>)<br><br>   <span class=ͼ8>// запускаем "жадную" горутину, которая захватит процессор</span><br>   <span class=ͼ4>go</span> <span class=ͼ4>func</span>() {<br>       <span class=ͼ5>sum</span> :<span class=ͼ6>=</span> <span class=ͼ9>0</span><br>       <span class=ͼ4>for</span> {<br>           <span class=ͼ5>sum</span><span class=ͼ6>++</span> <span class=ͼ8>// бесконечный цикл без вызовов функций</span><br>       }<br>   }()<br>   <br>   <span class=ͼ8>// Запускаем time.Sleep, чтобы передать управление жадной горутине</span><br>   <span class=ͼ8>// и не выйти раньше времени из main()</span><br>   <span class=ͼ5>time</span><span class=ͼ9>.</span><span class=ͼ5>Sleep</span>(<span class=ͼ5>time</span><span class=ͼ9>.</span><span class=ͼ5>Second</span>)<br>}</code></pre><p>У нас возникла серьёзная проблема — горутина заблокировала весь Процессор и не собирается его отдавать! Она не вызывает функции, а значит не проверяет <code>stackguard</code>, она не выполняет блокирующие операции, она просто ворует все ресурсы, и наш Sysmon ничего не может с этим поделать.<figure class=full-width><img src=data:, alt="Sysmon попросил горутину уступить Процессор, установив флаг stackguard, но горутина занята работой и не проверяет его" title="Sysmon попросил горутину уступить Процессор, установив флаг stackguard, но горутина занята работой и не проверяет его" width=1768 height=796 data-src=https://habrastorage.org/getpro/habr/upload_files/4df/ffa/28c/4dfffa28c874219fb25c08fcdc081151.png data-sf-original-src=https://habrastorage.org/r/w1560/getpro/habr/upload_files/4df/ffa/28c/4dfffa28c874219fb25c08fcdc081151.png><div><figcaption>Sysmon попросил горутину уступить Процессор, установив флаг stackguard, но горутина занята работой и не проверяет его</figcaption></div></figure><p>Как же нам быть? Мы никак не можем достучаться до горутины — каким бы способом мы не передавали ей сообщения, она их просто не читает, занимаясь без остановки другой работой. Нам нужен какой-то механизм, который сам её прервёт извне. К счастью, такой механизм нам предоставляет ОС — это сигналы.<blockquote><p>Сигналы — это механизм уведомления процессов о каких-либо событиях на уровне ОС. Ключевой для нас момент —&nbsp;при отправке сигнала, ОС прерывает выполнение процесса и запускает специальный обработчик, который установил сам процесс. Именно этот обработчик сохранит состояние горутины и вернёт управление планировщику.<p>Как вы могли догадаться, на эту тему у меня также <a href=https://t.me/ntuzov/615 rel="noopener noreferrer nofollow" target=_blank>есть подробный пост</a>.</p></blockquote><p>В Unix системах для этого используется сигнал <code>SIGURG</code>. Он выбран потому что редко используется в обычных программах (изначально предназначен для уведомления о срочных сетевых событиях), а значит мы можем его безопасно использовать для своих целей.<p><em>Windows, кстати, отдельная история, и мне совсем не хочется в это погружаться (даже отдельного подробного поста на этот раз нет...). Просто имейте в виду, что реализация несколько отличается, но суть примерно та же.</em><p>Теперь, когда у нас есть подходящий механизм, мы можем поступать следующим образом. Если горутина слишком долго не передаёт управление добровольно (~10мс), то мы отправим ей сигнал и прервём принудительно.<p>Теперь у нас два способа вытеснения горутин:<ol><li><p>Основной — через проверку stackguard в безопасных точках. Горутина сама решает когда остановиться</p><li><p>Запасной — через сигналы операционной системы, если горутина не хочет останавливаться сама</p></ol><p>Правда, второй способ работает не всегда. В некоторых участках кода прерывать горутину опасно — например, во время сборки мусора или выполнения системных вызовов. В таких случаях нам остается полагаться только на первый способ.<p>Именно такой механизм был <a href=https://go.dev/doc/go1.14#runtime rel="noopener noreferrer nofollow" target=_blank>введён в версии Go 1.14</a>, и планировщик стал <em>кооперативно-вытесняющим</em>. Скорее всего, вы об этом слышали, но, возможно, плохо поняли или даже забыли. Но теперь вы даже знаете как это работает.<p><em>Кстати, не путайте этот механизм с тем, что мы обсуждали в разделе про handoff. Там Sysmon тоже следит за временем работы тредов (тоже с таймаутом 10мс), но с другой целью — он проверяет не освободился ли тред из системного вызова, и если нет - выполняет handoff. В том случае нас интересуют только заблокированные треды, а здесь мы следим за активно работающими горутинами, которые не хотят отдавать управление добровольно.</em><h2>Итоги</h2><p>Что ж, вот мы и построили эффективный планировщик —&nbsp;он максимально эффективно использует доступные ядра процессора и при этом минимизирует количество тредов операционной системы.<p>И теперь очень полезно посмотреть и поразглядывать итоговую схему целиком:<figure class=full-width><img src=data:, alt="Общая схема внутреннего устройства планировщика Go" title="Общая схема внутреннего устройства планировщика Go" width=2834 height=1206 data-src=https://habrastorage.org/webt/ym/ia/17/ymia17tgm0axzqx80yqw0_wc77w.png data-sf-original-src=https://habrastorage.org/r/w1560/webt/ym/ia/17/ymia17tgm0axzqx80yqw0_wc77w.png><div><figcaption>Общая схема внутреннего устройства планировщика Go</figcaption></div></figure><p>А вот <a href="https://excalidraw.com/#json=20tGBxbXwnheS-8bzABUG,f-NAOmvoVlHsGeBEeAKhbg" rel="noopener noreferrer nofollow" target=_blank>оригинал</a> схемы в Excalidraw, если хотите изучить внимательнее.<blockquote><p>Я советую вам потратить ещё немного времени, не полениться и пройтись внимательно взглядом по всем элементам схемы и по связям между ними — это хорошо закрепит понимание всего, что вы прочитали выше.</p></blockquote><p>Спасибо всем, кто дочитал статью до конца —&nbsp;вы проделали огромную работу, и это достойно уважения! Теперь самое время прилечь и немного поспать (дневной сон тоже подойдёт), чтобы ваш мозг переварил полученную информацию и построил новые нейронные связи. А потом можно отправляться на собеседование, чтобы опробовать новые знания в боевой обстановке ;)<p>Кстати, во время подготовки сложных роликов и статей (таких, как эта), я обычно пишу серию подготовительных постов в своём <a href=https://t.me/ntuzov/ rel="noopener noreferrer nofollow" target=_blank>Telegram-канале</a>, чтобы подписчикам было ещё проще понимать материал.<p>Вообще, у меня очень много разных проектов, и мой Телеграм-канал является главным хабом, чтобы быть в курсе всего этого —&nbsp;в нём я пишу новости по всем аспектам своей деятельности, собираю фидбэк — идеи новых роликов и статей, про новые выпуски нашего <a href=https://gogetpodcast.mave.digital/ rel="noopener noreferrer nofollow" target=_blank>подкаста про Go</a> и др. И главное —&nbsp;в Телеграме у меня намного больше активности, чем на Харбе или на YouTube.<p>Также, напоминаю, если вы хотите продолжение этой статьи, в котором я препарирую планировщик с помощью своей утилиты <a href=https://github.com/JustSkiv/goschedviz rel="noopener noreferrer nofollow" target=_blank>goschedviz</a>, как в <a href=https://youtu.be/kedW1xO3Zbo rel="noopener noreferrer nofollow" target=_blank>ролике</a>, то пишите в комментариях. Если будет достаточно желающих, сделаю.<p></p></div></div></div></div><div aria-hidden=true class="pswp sf-hidden" role=dialog tabindex=-1></div><div class=tm-article-poll-container><div class="tm-article-poll tm-article-poll_variant-bordered"><div class=tm-article-poll__header>Нравится ли вам такой формат для статей по объёму?</div><div class=tm-article-poll__answers><div class=tm-article-poll__answer><div class="tm-input-radio-labeled tm-article-poll__answer-item"><label class=tm-input-radio-labeled__label><div class=tm-checkbox-labeled__input data-test-id=checkbox-labeled-input_undefined><input type=radio id=answer value=213166 class=tm-input-radio-labeled__real><span class=tm-input-radio-labeled__fake></span></div><span class=tm-article-poll__answer-label>Да, идеально</span></label></div></div><div class=tm-article-poll__answer><div class="tm-input-radio-labeled tm-article-poll__answer-item"><label class=tm-input-radio-labeled__label><div class=tm-checkbox-labeled__input data-test-id=checkbox-labeled-input_undefined><input type=radio id=answer value=213168 class=tm-input-radio-labeled__real><span class=tm-input-radio-labeled__fake></span></div><span class=tm-article-poll__answer-label>Да, и можно даже длиннее!</span></label></div></div><div class=tm-article-poll__answer><div class="tm-input-radio-labeled tm-article-poll__answer-item"><label class=tm-input-radio-labeled__label><div class=tm-checkbox-labeled__input data-test-id=checkbox-labeled-input_undefined><input type=radio id=answer value=213170 class=tm-input-radio-labeled__real><span class=tm-input-radio-labeled__fake></span></div><span class=tm-article-poll__answer-label>Нет, лучше бы покороче</span></label></div></div><div class=tm-article-poll__answer><div class="tm-input-radio-labeled tm-article-poll__answer-item"><label class=tm-input-radio-labeled__label><div class=tm-checkbox-labeled__input data-test-id=checkbox-labeled-input_undefined><input type=radio id=answer value=213172 class=tm-input-radio-labeled__real><span class=tm-input-radio-labeled__fake></span></div><span class=tm-article-poll__answer-label>Нет, надо было разбить на 2 части</span></label></div></div><div class=tm-article-poll__answer><div class="tm-input-radio-labeled tm-article-poll__answer-item"><label class=tm-input-radio-labeled__label><div class=tm-checkbox-labeled__input data-test-id=checkbox-labeled-input_undefined><input type=radio id=answer value=213174 class=tm-input-radio-labeled__real><span class=tm-input-radio-labeled__fake></span></div><span class=tm-article-poll__answer-label>Нет, надо было разбить на серию частей (больше двух)</span></label></div></div><div class=tm-article-poll__answer><div class="tm-input-radio-labeled tm-article-poll__answer-item"><label class=tm-input-radio-labeled__label><div class=tm-checkbox-labeled__input data-test-id=checkbox-labeled-input_undefined><input type=radio id=answer value=213176 class=tm-input-radio-labeled__real><span class=tm-input-radio-labeled__fake></span></div><span class=tm-article-poll__answer-label>Мне без разницы, главное содержание</span></label></div></div></div><div class=tm-article-poll__controls><button class="btn btn_solid btn_middle tm-article-poll__submit" disabled type=submit>Голосовать</button><button class="btn btn_transparent btn_middle tm-article-poll__decline" type=button>Воздержаться</button></div><div class=tm-article-poll__stats> Проголосовали 206 пользователей. Воздержались 13 пользователей. </div></div></div></div><div class=tm-article-presenter__meta data-test-id=article-meta-links><div class="tm-separated-list tm-article-presenter__meta-list"><span class=tm-separated-list__title>Теги:</span><ul class=tm-separated-list__list><li class=tm-separated-list__item><a href="https://habr.com/ru/search/?target_type=posts&amp;order=relevance&amp;q=[go]" class=tm-tags-list__link><span>go</span></a><li class=tm-separated-list__item><a href="https://habr.com/ru/search/?target_type=posts&amp;order=relevance&amp;q=[golang]" class=tm-tags-list__link><span>golang</span></a><li class=tm-separated-list__item><a href="https://habr.com/ru/search/?target_type=posts&amp;order=relevance&amp;q=[%D0%BF%D0%BB%D0%B0%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D1%89%D0%B8%D0%BA+go]" class=tm-tags-list__link><span>планировщик go</span></a><li class=tm-separated-list__item><a href="https://habr.com/ru/search/?target_type=posts&amp;order=relevance&amp;q=[%D0%BF%D0%BE%D0%B4+%D0%BA%D0%B0%D0%BF%D0%BE%D1%82%D0%BE%D0%BC]" class=tm-tags-list__link><span>под капотом</span></a><li class=tm-separated-list__item><a href="https://habr.com/ru/search/?target_type=posts&amp;order=relevance&amp;q=[%D0%B2%D0%BD%D1%83%D1%82%D1%80%D0%B5%D0%BD%D0%BD%D0%B5%D0%B5+%D1%83%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2%D0%BE]" class=tm-tags-list__link><span>внутреннее устройство</span></a></ul></div><div class="tm-separated-list tm-article-presenter__meta-list"><span class=tm-separated-list__title>Хабы:</span><ul class=tm-separated-list__list><li class=tm-separated-list__item><a href=https://habr.com/ru/hubs/go/ class=tm-hubs-list__link><span>Go</span></a></ul></div></div></article></div></div><div class=tm-article-sticky-panel data-test-id=article-sticky-panel></div></div><div class=tm-article-presenter__footer><div class=tm-article-blocks><section class="tm-block tm-block_spacing-bottom"><div class="tm-block__body tm-block__body_variant-balanced"><div class=tm-article-author data-test-id=article-author-info data-async-called=true><div class="tm-user-card tm-user-card_variant-article tm-article-author__user-card" data-async-called=true><div class=tm-user-card__info-container><div class=tm-user-card__header><div class=tm-user-card__header-data><a href=https://habr.com/ru/users/JustSkiv/ class="tm-user-card__userpic tm-user-card__userpic_size-40"><div class=tm-entity-image><img alt class=tm-entity-image__pic src=data:, data-sf-original-src=https://habrastorage.org/getpro/habr/avatars/743/20a/a35/74320aa3534088f9f6bf240441c5067d.jpg></div></a><div class=tm-user-card__meta><div class="tm-counter-container tm-karma tm-karma_allowed-vote" title=" 91 голос "><div class=tm-counter-container__header><div class="tm-votes-lever tm-votes-lever_appearance-karma tm-karma__votes-switcher" is-natural=true><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-karma"><span><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_positive" data-test-id=votes-score-counter>81</span></span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div></div><div class=tm-counter-container__footer><div class=tm-karma__text>Карма</div></div></div><div class=tm-counter-container title="Рейтинг пользователя"><div class=tm-counter-container__header><div class="tm-votes-lever tm-votes-lever_appearance-rating"><div class="tm-votes-lever__score tm-votes-lever__score_appearance-rating tm-votes-lever__score_no-margin"><span><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_rating" data-test-id=votes-score-counter>246.1</span></span></div></div></div><div class=tm-counter-container__footer><span class=tm-rating__text>Рейтинг</span></div></div></div></div></div><div class="tm-user-card__info tm-user-card__info_variant-article"><div class="tm-user-card__title tm-user-card__title_variant-article"><span class="tm-user-card__name tm-user-card__name_variant-article">Николай Тузов</span><a href=https://habr.com/ru/users/JustSkiv/ class="tm-user-card__nickname tm-user-card__nickname_variant-article"> @JustSkiv</a></div><p class="tm-user-card__short-info tm-user-card__short-info_variant-article" data-test-id=user-card-speciality>Senior Golang Developer</p></div></div><div class="tm-user-card__buttons tm-user-card__buttons_variant-article"><div class=tm-user-card__button><div class="tm-button-follow tm-user-card__button-follow"><button class="tm-button-follow__button tm-button-follow__button_big" data-test-id=follow-button type=button>Подписаться</button></div></div><a href=https://habr.com/ru/conversations/justskiv/ class="tm-user-card__button tm-user-card__button_write" data-test-id=user-card-conversations></a><div class=tm-user-card__button><div class="tm-dropdown tm-admin"><div class=tm-dropdown__head><button class=tm-admin__button></button></div></div></div></div></div><div class=tm-article-author__user-contacts data-test-id=author-contacts><a class=tm-article-author__contact data-test-id=author-contact-link href=https://www.youtube.com/c/%D0%9D%D0%B8%D0%BA%D0%BE%D0%BB%D0%B0%D0%B9%D0%A2%D1%83%D0%B7%D0%BE%D0%B2 rel=noopener target=_blank>Сайт</a><a class=tm-article-author__contact data-test-id=author-contact-link href=https://telegram.me/ntuzov rel=noopener target=_blank>Telegram</a></div></div></div></section><div class="banner-wrapper leaderboard tm-page-article__banner" data-v-ad758baa><div class="placeholder-wrapper placeholder" data-v-ad758baa><div data-v-40f619c6 class=disable-adblock-placeholder><div data-v-40f619c6 class=inner><p data-v-40f619c6 class=title>Пожалуйста, отключите блокировщик рекламы<p data-v-40f619c6 class=text><span data-v-40f619c6>Так вы можете поддержать Хабр</span></p></div></div></div><div id=adfox_164725660339535756 class=tm-adfox-banner data-v-ad758baa></div></div><div class=tm-article-blocks__comments><div id=publication-comments class=tm-article-page-comments><div><div class=tm-article-comments-client-rendered><div><div class=tm-article-comments data-test-id=article-comments><div class=tm-comments-wrapper><div class=tm-comments-wrapper__wrapper><header class=tm-comments-wrapper__header><h2 class=tm-comments-wrapper__title>Комментарии <span class=tm-comments-wrapper__comments-count>48</span></h2><div class=tm-comments-wrapper__header-aside><button class="tm-rss-button tm-rss-button_comments-header"><span class="tm-svg-icon__wrapper tm-rss-button__icon"></span></button><div class="tm-article-subscription-controls tm-article-comments__subscription"><button class=tm-article-subscription-controls__button title="Подписаться на новые комментарии"></button><div></div></div></div></header><div class=tm-comments-wrapper__inner><div class=tm-comments__tree data-comments-list><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28051652 class=tm-comment-thread__target name=comment_28051652></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-0 data-comment-body=28051652><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/fluffy11/ class=tm-user-info__userpic data-test-id=user-info-pic title=fluffy11><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://habrastorage.org/r/w48/getpro/habr/avatars/2df/4fa/d39/2df4fad3924d7fe30cfa9b5485c5502d.jpg></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/fluffy11/ class=tm-user-info__username>fluffy11 </a><a class=tm-comment-thread__comment-link href=#comment_28051652><time datetime=2025-03-17T17:20:15.000Z title="2025-03-17, 18:20">17 мар в 18:20</time></a></span></span></div><div class=tm-comment__buttons></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>Лайк, познавательное чтиво</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 10: ↑8 и ↓2"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_positive" data-test-id=votes-score-counter>+6</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28051652></button></div></div></article><div class=tm-comment-thread__children><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28055416 class=tm-comment-thread__target name=comment_28055416></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-1"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-1 data-comment-body=28055416><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/mclander/ class=tm-user-info__userpic data-test-id=user-info-pic title=mclander><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://habrastorage.org/r/w48/getpro/habr/avatars/4cc/a18/2d1/4cca182d17aa40fc9aabd56bcbb2eb27.png></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/mclander/ class=tm-user-info__username>mclander </a><a class=tm-comment-thread__comment-link href=#comment_28055416><time datetime=2025-03-18T14:03:31.000Z title="2025-03-18, 15:03">18 мар в 15:03</time></a></span></span></div><div class=tm-comment__buttons><button class="tm-comment__button tm-comment__button_with-icon" type=button></button></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>Да-да. Я тоже лайкнул, чтобы сделать вид, что всё понял)<p>Но если начну писать на Go это будет одна из первых статей, что перечитаю)</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 1: ↑1 и ↓0"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_positive" data-test-id=votes-score-counter>+1</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28055416></button></div></div></article></section></div></section><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28051658 class=tm-comment-thread__target name=comment_28051658></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-0 data-comment-body=28051658><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/Mispon/ class=tm-user-info__userpic data-test-id=user-info-pic title=Mispon><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://habrastorage.org/r/w48/getpro/habr/avatars/6ff/bf2/929/6ffbf292917914a2cb5e9485bbd5df20.jpg></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/Mispon/ class=tm-user-info__username>Mispon </a><a class=tm-comment-thread__comment-link href=#comment_28051658><time datetime=2025-03-17T17:21:58.000Z title="2025-03-17, 18:21">17 мар в 18:21</time></a></span></span></div><div class=tm-comment__buttons></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>Спасибо за титанический труд!</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 11: ↑10 и ↓1"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_positive" data-test-id=votes-score-counter>+9</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28051658></button></div></div></article></section><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28051678 class=tm-comment-thread__target name=comment_28051678></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-0 data-comment-body=28051678><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/rolymeck/ class=tm-user-info__userpic data-test-id=user-info-pic title=rolymeck><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://assets.habr.com/habr-web/img/avatars/071.png></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/rolymeck/ class=tm-user-info__username>rolymeck </a><a class=tm-comment-thread__comment-link href=#comment_28051678><time datetime=2025-03-17T17:26:17.000Z title="2025-03-17, 18:26">17 мар в 18:26</time></a></span></span></div><div class=tm-comment__buttons></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>Один из лучших материалов по данной теме! Спасибо, Николай!</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 10: ↑8 и ↓2"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_positive" data-test-id=votes-score-counter>+6</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28051678></button></div></div></article></section><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28051724 class=tm-comment-thread__target name=comment_28051724></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-0 data-comment-body=28051724><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/alivewel/ class=tm-user-info__userpic data-test-id=user-info-pic title=alivewel><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://assets.habr.com/habr-web/img/avatars/058.png></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/alivewel/ class=tm-user-info__username>alivewel </a><a class=tm-comment-thread__comment-link href=#comment_28051724><time datetime=2025-03-17T17:43:20.000Z title="2025-03-17, 18:43">17 мар в 18:43</time></a></span></span></div><div class=tm-comment__buttons></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>Николай, как всегда, в своем уникальном стиле. Опять выпустил лучший материал по теме!</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 7: ↑7 и ↓0"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_positive" data-test-id=votes-score-counter>+7</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28051724></button></div></div></article></section><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28051838 class=tm-comment-thread__target name=comment_28051838></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-0 data-comment-body=28051838><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/brunql/ class=tm-user-info__userpic data-test-id=user-info-pic title=brunql><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://habrastorage.org/r/w48/getpro/habr/avatars/398/dfa/b32/398dfab32e729d0d712d243579b6faf3.jpg></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/brunql/ class=tm-user-info__username>brunql </a><a class=tm-comment-thread__comment-link href=#comment_28051838><time datetime=2025-03-17T18:28:54.000Z title="2025-03-17, 19:28">17 мар в 19:28</time></a></span></span></div><div class=tm-comment__buttons></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>Отличная статья, спасибо. Ждём книгу.</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 4: ↑4 и ↓0"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_positive" data-test-id=votes-score-counter>+4</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28051838></button></div></div></article></section><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28051962 class=tm-comment-thread__target name=comment_28051962></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-0 data-comment-body=28051962><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/cgvictor/ class=tm-user-info__userpic data-test-id=user-info-pic title=cgvictor><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://habrastorage.org/r/w48/getpro/habr/avatars/26f/14d/ed5/26f14ded559f3dbfd1cb381ed9f97761.jpg></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/cgvictor/ class=tm-user-info__username>cgvictor </a><a class=tm-comment-thread__comment-link href=#comment_28051962><time datetime=2025-03-17T19:19:00.000Z title="2025-03-17, 20:19">17 мар в 20:19</time></a></span></span></div><div class=tm-comment__buttons></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>Вспомнил пароль от хабра, только чтобы сказать "лайк!" :) Оч круто, спасибо</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 7: ↑7 и ↓0"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_positive" data-test-id=votes-score-counter>+7</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28051962></button></div></div></article></section><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28052110 class=tm-comment-thread__target name=comment_28052110></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-0 data-comment-body=28052110><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/enotys/ class=tm-user-info__userpic data-test-id=user-info-pic title=enotys><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://habrastorage.org/r/w48/getpro/habr/avatars/ff1/049/c88/ff1049c88e996b7eef6813b293b9bc9f.jpg></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/enotys/ class=tm-user-info__username>enotys </a><a class=tm-comment-thread__comment-link href=#comment_28052110><time datetime=2025-03-17T20:13:42.000Z title="2025-03-17, 21:13">17 мар в 21:13</time></a></span></span></div><div class=tm-comment__buttons></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>Отличный разбор. Подробно и наглядно. Не зря столько ждали!</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 4: ↑4 и ↓0"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_positive" data-test-id=votes-score-counter>+4</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28052110></button></div></div></article></section><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28052148 class=tm-comment-thread__target name=comment_28052148></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-0 data-comment-body=28052148><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/Kahelman/ class=tm-user-info__userpic data-test-id=user-info-pic title=Kahelman><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://assets.habr.com/habr-web/img/avatars/002.png></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/Kahelman/ class=tm-user-info__username>Kahelman </a><a class=tm-comment-thread__comment-link href=#comment_28052148><time datetime=2025-03-17T20:27:46.000Z title="2025-03-17, 21:27">17 мар в 21:27</time></a></span></span></div><div class=tm-comment__buttons></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>Есть стойкое подозрение что автор понятия threads and processes то-ли путает, то-ли недосказывает.<p>« Горутины же мы можем построить таким образом, чтобы они были намного более легковесными по памяти и, самое главное — чтобы переключение между ними было гораздо дешевле, чем переключение между тредами. Это возможно, потому что все они будут жить внутри одного процесса (нашей программы) и иметь общий доступ к памяти, а переключение между ними будет»<p>Вроде как threads живут внутри одного процесса и из для того и сдали чтобы экономит. Время на переключение между процессами.<p>Опять-таки, если не ошибаюсь, то это process модно привязать к конкретному ядру процессора, чтобы избежать потерь времени на переключение между ядрами.<p>Далее для нормальной производительности у вас должно быть X processes , где Х = числу ядер процессора, каждый процесс в идеале должен быть привязан к своему ядру.<p>Каждый процесс должен запускать Y threads, внутри которых вы можете делать свои Lightweight threads/ go routines.<p>Рекомендую оригинальную презентацию Роберта Пайка :<p><a href=https://talks.golang.org/2012/waza.slide rel="noopener noreferrer nofollow" target=_blank>https://talks.golang.org/2012/waza.slide</a><br> У нег кстати нет понятия thread, есть понятие process в широком смысле слова.</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 6: ↑3 и ↓3"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class=tm-votes-lever__score-counter data-test-id=votes-score-counter>0</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28052148></button></div></div></article><div class=tm-comment-thread__children><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28052478 class=tm-comment-thread__target name=comment_28052478></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-1"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-1 data-comment-body=28052478><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/evgeniy_kudinov/ class=tm-user-info__userpic data-test-id=user-info-pic title=evgeniy_kudinov><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://habrastorage.org/r/w48/getpro/habr/avatars/41b/26c/a63/41b26ca63812cf376796c390fae3c9df.jpeg></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/evgeniy_kudinov/ class=tm-user-info__username>evgeniy_kudinov </a><a class=tm-comment-thread__comment-link href=#comment_28052478><time datetime=2025-03-18T01:30:41.000Z title="2025-03-18, 02:30">18 мар в 02:30</time></a></span></span></div><div class=tm-comment__buttons><button class="tm-comment__button tm-comment__button_with-icon" type=button></button></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><blockquote><p>Опять-таки, если не ошибаюсь, то это process модно привязать к конкретному ядру процессора, чтобы избежать потерь времени на переключение между ядрами.</p></blockquote><p>Поток на логическое ядро, и в нем уже горутины, управляемые планировщиком.<p><br>Николай, если книга будет в подобном стиле написана, то она точно будет на полках лежать в разделе must read)</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 4: ↑4 и ↓0"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_positive" data-test-id=votes-score-counter>+4</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28052478></button></div></div></article></section><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28052710 class=tm-comment-thread__target name=comment_28052710></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-1"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-1 data-comment-body=28052710><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class="tm-comment__header tm-comment__header_is-by-op" data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/JustSkiv/ class=tm-user-info__userpic data-test-id=user-info-pic title=JustSkiv><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://habrastorage.org/r/w48/getpro/habr/avatars/743/20a/a35/74320aa3534088f9f6bf240441c5067d.jpg></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/JustSkiv/ class=tm-user-info__username>JustSkiv </a><a class=tm-comment-thread__comment-link href=#comment_28052710><time datetime=2025-03-18T04:38:52.000Z title="2025-03-18, 05:38">18 мар в 05:38</time></a></span></span></div><div class=tm-comment__buttons><button class="tm-comment__button tm-comment__button_with-icon" type=button></button></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>Советую глянуть <a href=https://t.me/ntuzov/410 rel="noopener noreferrer nofollow" target=_blank>мой пост</a> на эту тему, станет понятней что есть что. Судя по комментарию, вы сейчас в этом плаваете.<p></p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 3: ↑3 и ↓0"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_positive" data-test-id=votes-score-counter>+3</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28052710></button></div></div></article><div class=tm-comment-thread__children><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28052864 class=tm-comment-thread__target name=comment_28052864></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-2"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-2 data-comment-body=28052864><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/Kahelman/ class=tm-user-info__userpic data-test-id=user-info-pic title=Kahelman><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://assets.habr.com/habr-web/img/avatars/002.png></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/Kahelman/ class=tm-user-info__username>Kahelman </a><a class=tm-comment-thread__comment-link href=#comment_28052864><time datetime=2025-03-18T05:55:12.000Z title="2025-03-18, 06:55">18 мар в 06:55</time></a></span></span></div><div class=tm-comment__buttons><button class="tm-comment__button tm-comment__button_with-icon" type=button></button></div></header><div class="tm-comment__body-content tm-comment__body-content_muted tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>Похоже недопонимание у вас. Вы ссылаетесь на Windows модель, в то время как в Linux она совершенно другая. «Once upon a time there was Unix and in this good old Unix there was lots of overhead for processes, so what some clever people did was to create threads, which would share the same address space with the parent process and they only needed a reduced context switch, which would make the context switch more efficient.<p>In a contemporary Linux (2.6.x) there is not much difference in performance between a context switch of a process compared to a thread (only the MMU stuff is additional for the thread). There is the issue with the shared address space, which means that a faulty pointer in a thread can corrupt memory of the parent process or another thread within the same address space.»<p>И как вам в ссылке показали - создатель Go -Пайк говорит о «процессах» в общем смысле а не о threads.<p>Специально залез в MSDN: setprocessaffinity, setthreadaffinity:<p>“A thread affinity mask is a bit vector in which each bit represents a logical processor that a thread is allowed to run on.<p>A thread affinity mask must be a subset of the process affinity mask for the containing process of a thread.<p>A thread can only run on the processors its process can run on.<p>Therefore, the thread affinity mask cannot specify a 1 bit for a processor when the process affinity mask specifies a 0 bit for that processor.”</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 4: ↑1 и ↓3"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_negative" data-test-id=votes-score-counter>-2</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28052864></button></div></div></article><div class=tm-comment-thread__children><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28054432 class=tm-comment-thread__target name=comment_28054432></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-3"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-3 data-comment-body=28054432><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/hogstaberg/ class=tm-user-info__userpic data-test-id=user-info-pic title=hogstaberg><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://habrastorage.org/r/w48/getpro/habr/avatars/f4a/ab4/28f/f4aab428f1452c04dc388de9a271a095.jpg></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/hogstaberg/ class=tm-user-info__username>hogstaberg </a><a class=tm-comment-thread__comment-link href=#comment_28054432><time datetime=2025-03-18T10:54:02.000Z title="2025-03-18, 11:54">18 мар в 11:54</time></a></span></span></div><div class=tm-comment__buttons><button class="tm-comment__button tm-comment__button_with-icon" type=button></button></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>Простите, но со стороны выглядит так, что вы докопались до вполне правильной терминологии просто потому, что вам лично она не нравится. </p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 4: ↑4 и ↓0"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_positive" data-test-id=votes-score-counter>+4</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28054432></button></div></div></article></section></div></section></div></section><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28054366 class=tm-comment-thread__target name=comment_28054366></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-1"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-1 data-comment-body=28054366><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/john_soft/ class=tm-user-info__userpic data-test-id=user-info-pic title=john_soft><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://assets.habr.com/habr-web/img/avatars/171.png></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/john_soft/ class=tm-user-info__username>john_soft </a><a class=tm-comment-thread__comment-link href=#comment_28054366><time datetime=2025-03-18T10:41:37.000Z title="2025-03-18, 11:41">18 мар в 11:41</time></a></span></span></div><div class=tm-comment__buttons><button class="tm-comment__button tm-comment__button_with-icon" type=button></button></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>С точки зрения linux нет разницы между процессами и тредами для него они неразличимые единицы планирования, для терминологии го, thread мепится на M, и экономится не на переключении между ядрами процессоров, а на переключении между режимами пользователя и ядра ОС. При этом до момента запуска неизвестно на каком системном треде запустится горутина когда планировщик го её подхватит, в этот момент с го сущностью процессора P может быть ассоциирован произвольный тред ОС<p></p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 2: ↑2 и ↓0"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_positive" data-test-id=votes-score-counter>+2</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28054366></button></div></div></article><div class=tm-comment-thread__children><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28054634 class=tm-comment-thread__target name=comment_28054634></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-2"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-2 data-comment-body=28054634><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/Kahelman/ class=tm-user-info__userpic data-test-id=user-info-pic title=Kahelman><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://assets.habr.com/habr-web/img/avatars/002.png></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/Kahelman/ class=tm-user-info__username>Kahelman </a><a class=tm-comment-thread__comment-link href=#comment_28054634><time datetime=2025-03-18T11:24:39.000Z title="2025-03-18, 12:24">18 мар в 12:24</time></a></span></span></div><div class=tm-comment__buttons><button class="tm-comment__button tm-comment__button_with-icon" type=button></button></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>С точки зрения Go нет понятия thread- есть понятие процесс. Выше я скидывал ссылку на презентацию Пайка , где он объясняет как concurrency в Го работает. Автор решил пересказать своими словами и использует терминологии которая как минимум не правильная в приложении к Go, и употребляется в совершенно другом контексте.<p>Я уже приводил цитату из поста:<br> « Горутины же мы можем построить таким образом, чтобы они были намного более легковесными по памяти и, самое главное — чтобы переключение между ними было гораздо дешевле, чем переключение между тредами. Это возможно, потому что все они будут жить внутри одного процесса (нашей программы) и иметь общий доступ к памяти, а переключение между ними будет»<p>Где автор явно путает thread, process , где go-routine находится и кто к чему имеет доступ.<p>В общем все по классике:<br> «Кто на ком стоял? Изволите выражаться яснее»</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 2: ↑1 и ↓1"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class=tm-votes-lever__score-counter data-test-id=votes-score-counter>0</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28054634></button></div></div></article><div class=tm-comment-thread__children><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28054730 class=tm-comment-thread__target name=comment_28054730></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-3"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-3 data-comment-body=28054730><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/Kahelman/ class=tm-user-info__userpic data-test-id=user-info-pic title=Kahelman><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://assets.habr.com/habr-web/img/avatars/002.png></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/Kahelman/ class=tm-user-info__username>Kahelman </a><a class=tm-comment-thread__comment-link href=#comment_28054730><time datetime=2025-03-18T11:38:17.000Z title="2025-03-18, 12:38">18 мар в 12:38</time></a></span></span></div><div class=tm-comment__buttons><button class="tm-comment__button tm-comment__button_with-icon" type=button></button></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>Далее « Во-вторых, каждый тред отъедает существенную часть памяти нашего компьютера: стек каждого треда часто может занимать до пары мегабайт (в нём хранятся локальные переменные, цепочки вызова функций и др.)»<p>Это процесс хранит данные и изолирует из от других процессов в ОС. Идея threads - избежать дорогих процессов и иметь возможность «расшарить» данные между threads в одном процессе.</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 2: ↑1 и ↓1"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class=tm-votes-lever__score-counter data-test-id=votes-score-counter>0</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28054730></button></div></div></article></section></div></section></div></section></div></section><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28052334 class=tm-comment-thread__target name=comment_28052334></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-0 data-comment-body=28052334><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/rixaman/ class=tm-user-info__userpic data-test-id=user-info-pic title=rixaman><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://habrastorage.org/r/w48/getpro/habr/avatars/8b4/c1f/c78/8b4c1fc786b6568cd2c7db7b7f38d51f.jpg></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/rixaman/ class=tm-user-info__username>rixaman </a><a class=tm-comment-thread__comment-link href=#comment_28052334><time datetime=2025-03-17T22:09:43.000Z title="2025-03-17, 23:09">17 мар в 23:09</time></a></span></span></div><div class=tm-comment__buttons></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>Спасибо за статью! Отличный стиль изложения, напомнило бандитскую классику (GoF). <br>Читается легко, но серьёзно.</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 5: ↑5 и ↓0"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_positive" data-test-id=votes-score-counter>+5</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28052334></button></div></div></article></section><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28052358 class=tm-comment-thread__target name=comment_28052358></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-0 data-comment-body=28052358><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/RostislavDugin/ class=tm-user-info__userpic data-test-id=user-info-pic title=RostislavDugin><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://habrastorage.org/r/w48/getpro/habr/avatars/764/497/69d/76449769da6e40cd25d616de40cd1d31.jpg></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/RostislavDugin/ class=tm-user-info__username>RostislavDugin </a><a class=tm-comment-thread__comment-link href=#comment_28052358><time datetime=2025-03-17T22:35:32.000Z title="2025-03-17, 23:35">17 мар в 23:35</time></a></span></span></div><div class=tm-comment__buttons></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>Надеюсь, эта статья станет одной из глав в книге про Go</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 4: ↑4 и ↓0"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_positive" data-test-id=votes-score-counter>+4</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28052358></button></div></div></article></section><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28052714 class=tm-comment-thread__target name=comment_28052714></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-0 data-comment-body=28052714><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/YokoLit/ class=tm-user-info__userpic data-test-id=user-info-pic title=YokoLit><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://assets.habr.com/habr-web/img/avatars/116.png></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/YokoLit/ class=tm-user-info__username>YokoLit </a><a class=tm-comment-thread__comment-link href=#comment_28052714><time datetime=2025-03-18T04:39:30.000Z title="2025-03-18, 05:39">18 мар в 05:39</time></a></span></span></div><div class=tm-comment__buttons></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>Интересная и качественная статья. Спасибо автору за труд!</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 3: ↑3 и ↓0"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_positive" data-test-id=votes-score-counter>+3</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28052714></button></div></div></article></section><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28052716 class=tm-comment-thread__target name=comment_28052716></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-0 data-comment-body=28052716><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/Yakser/ class=tm-user-info__userpic data-test-id=user-info-pic title=Yakser><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://habrastorage.org/r/w48/getpro/habr/avatars/bd6/2d5/901/bd62d590101a2e4280a0bba80e8c2e0f.jpeg></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/Yakser/ class=tm-user-info__username>Yakser </a><a class=tm-comment-thread__comment-link href=#comment_28052716><time datetime=2025-03-18T04:39:32.000Z title="2025-03-18, 05:39">18 мар в 05:39</time></a></span></span></div><div class=tm-comment__buttons></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>Спасибо за качественный материал! Очень жду книгу)</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 3: ↑3 и ↓0"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_positive" data-test-id=votes-score-counter>+3</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28052716></button></div></div></article></section><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28052718 class=tm-comment-thread__target name=comment_28052718></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-0 data-comment-body=28052718><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/TodyTodz/ class=tm-user-info__userpic data-test-id=user-info-pic title=TodyTodz><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://assets.habr.com/habr-web/img/avatars/034.png></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/TodyTodz/ class=tm-user-info__username>TodyTodz </a><a class=tm-comment-thread__comment-link href=#comment_28052718><time datetime=2025-03-18T04:39:34.000Z title="2025-03-18, 05:39">18 мар в 05:39</time></a></span></span></div><div class=tm-comment__buttons></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>Мои уважение и благодарность за проделанную работу🙇</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 3: ↑3 и ↓0"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_positive" data-test-id=votes-score-counter>+3</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28052718></button></div></div></article></section><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28052720 class=tm-comment-thread__target name=comment_28052720></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-0 data-comment-body=28052720><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/Halfmast/ class=tm-user-info__userpic data-test-id=user-info-pic title=Halfmast><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://assets.habr.com/habr-web/img/avatars/017.png></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/Halfmast/ class=tm-user-info__username>Halfmast </a><a class=tm-comment-thread__comment-link href=#comment_28052720><time datetime=2025-03-18T04:39:39.000Z title="2025-03-18, 05:39">18 мар в 05:39</time></a></span></span></div><div class=tm-comment__buttons></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>Не успел 2 часовое видео посмотреть по этой же теме от этого же автора, а тут еще и статься вышла, топчик</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 4: ↑4 и ↓0"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_positive" data-test-id=votes-score-counter>+4</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28052720></button></div></div></article></section><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28053222 class=tm-comment-thread__target name=comment_28053222></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-0 data-comment-body=28053222><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/elFurion/ class=tm-user-info__userpic data-test-id=user-info-pic title=elFurion><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://assets.habr.com/habr-web/img/avatars/037.png></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/elFurion/ class=tm-user-info__username>elFurion </a><a class=tm-comment-thread__comment-link href=#comment_28053222><time datetime=2025-03-18T07:14:03.000Z title="2025-03-18, 08:14">18 мар в 08:14</time></a></span></span></div><div class=tm-comment__buttons></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>Николай, спасибо за труды. Полез вспоминать пароль от хабра чтобы поставить лайк.</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 4: ↑4 и ↓0"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_positive" data-test-id=votes-score-counter>+4</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28053222></button></div></div></article></section><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28053374 class=tm-comment-thread__target name=comment_28053374></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-0 data-comment-body=28053374><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/KonstantinD_kz/ class=tm-user-info__userpic data-test-id=user-info-pic title=KonstantinD_kz><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://assets.habr.com/habr-web/img/avatars/058.png></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/KonstantinD_kz/ class=tm-user-info__username>KonstantinD_kz </a><a class=tm-comment-thread__comment-link href=#comment_28053374><time datetime=2025-03-18T07:45:50.000Z title="2025-03-18, 08:45">18 мар в 08:45</time></a></span></span></div><div class=tm-comment__buttons></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>Николай, Вы большой молодец! Спасибо за труд! вошел в аккаунт специально чтобы поставить лайк).</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 2: ↑2 и ↓0"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_positive" data-test-id=votes-score-counter>+2</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28053374></button></div></div></article></section><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28053376 class=tm-comment-thread__target name=comment_28053376></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-0 data-comment-body=28053376><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/saymeit/ class=tm-user-info__userpic data-test-id=user-info-pic title=saymeit><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://assets.habr.com/habr-web/img/avatars/165.png></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/saymeit/ class=tm-user-info__username>saymeit </a><a class=tm-comment-thread__comment-link href=#comment_28053376><time datetime=2025-03-18T07:45:53.000Z title="2025-03-18, 08:45">18 мар в 08:45</time></a></span></span></div><div class=tm-comment__buttons></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>Спасибо огромное Николаю! Материал лучший.</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 2: ↑2 и ↓0"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_positive" data-test-id=votes-score-counter>+2</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28053376></button></div></div></article></section><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28053546 class=tm-comment-thread__target name=comment_28053546></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-0 data-comment-body=28053546><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/Moth_3301/ class=tm-user-info__userpic data-test-id=user-info-pic title=Moth_3301><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://habrastorage.org/r/w48/getpro/habr/avatars/d48/586/b03/d48586b03c57bcee8ebc227bdaa53c77.jpg></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/Moth_3301/ class=tm-user-info__username>Moth_3301 </a><a class=tm-comment-thread__comment-link href=#comment_28053546><time datetime=2025-03-18T08:24:05.000Z title="2025-03-18, 09:24">18 мар в 09:24</time></a></span></span></div><div class=tm-comment__buttons></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>Отдельное спасибо за прекрасные иллюстрации!</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 2: ↑2 и ↓0"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_positive" data-test-id=votes-score-counter>+2</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28053546></button></div></div></article></section><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28053548 class=tm-comment-thread__target name=comment_28053548></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-0 data-comment-body=28053548><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/sergmotol/ class=tm-user-info__userpic data-test-id=user-info-pic title=sergmotol><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://assets.habr.com/habr-web/img/avatars/189.png></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/sergmotol/ class=tm-user-info__username>sergmotol </a><a class=tm-comment-thread__comment-link href=#comment_28053548><time datetime=2025-03-18T08:24:08.000Z title="2025-03-18, 09:24">18 мар в 09:24</time></a></span></span></div><div class=tm-comment__buttons></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>ух, мощно. Это прям талант писать такие сложные, огромные штуки так доходчиво</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 2: ↑2 и ↓0"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_positive" data-test-id=votes-score-counter>+2</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28053548></button></div></div></article></section><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28053862 class=tm-comment-thread__target name=comment_28053862></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-0 data-comment-body=28053862><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/arturpanteleev/ class=tm-user-info__userpic data-test-id=user-info-pic title=arturpanteleev><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://habrastorage.org/r/w48/getpro/habr/avatars/91d/e03/abe/91de03abe8d0532a58ba6923efe132b2.png></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/arturpanteleev/ class=tm-user-info__username>arturpanteleev </a><a class=tm-comment-thread__comment-link href=#comment_28053862><time datetime=2025-03-18T09:15:20.000Z title="2025-03-18, 10:15">18 мар в 10:15</time></a></span></span></div><div class=tm-comment__buttons></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>Спасибо за статью! После видео легко зашла, прочиталась на одном дыхании + уточнил для себя пару моментов, которые из видоса позабыл</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 2: ↑2 и ↓0"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_positive" data-test-id=votes-score-counter>+2</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28053862></button></div></div></article></section><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28054220 class=tm-comment-thread__target name=comment_28054220></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-0 data-comment-body=28054220><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/Uint32/ class=tm-user-info__userpic data-test-id=user-info-pic title=Uint32><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://habrastorage.org/getpro/habr/avatars/5dd/aa2/7ae/5ddaa27ae98d0745dec9a35f45b82aa8.gif></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/Uint32/ class=tm-user-info__username>Uint32 </a><a class=tm-comment-thread__comment-link href=#comment_28054220><time datetime=2025-03-18T10:15:36.000Z title="2025-03-18, 11:15">18 мар в 11:15</time></a></span></span></div><div class=tm-comment__buttons></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><blockquote><p>В других материалах вы могли также видеть определения kernel space (пространство ядра) и user space (пространство пользователя). Так вот —&nbsp;горутины будут существовать в user space, то есть ими управляет планировщик Go (если точнее —&nbsp;<a href=https://pkg.go.dev/runtime rel="noopener noreferrer nofollow" target=_blank>Go Runtime</a>), а треды в kernel space, то есть ими управляет ОС.</p></blockquote><p>Упоминаемые треды существуют в user space и к kernel space не имеют отношения.<br>И ещё много чего... Чтобы выпустить книгу потребуется хороший технический редактор.<p></p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 3: ↑2 и ↓1"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_positive" data-test-id=votes-score-counter>+1</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28054220></button></div></div></article><div class=tm-comment-thread__children><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28054706 class=tm-comment-thread__target name=comment_28054706></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-1"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-1 data-comment-body=28054706><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class="tm-comment__header tm-comment__header_is-by-op" data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/JustSkiv/ class=tm-user-info__userpic data-test-id=user-info-pic title=JustSkiv><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://habrastorage.org/r/w48/getpro/habr/avatars/743/20a/a35/74320aa3534088f9f6bf240441c5067d.jpg></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/JustSkiv/ class=tm-user-info__username>JustSkiv </a><a class=tm-comment-thread__comment-link href=#comment_28054706><time datetime=2025-03-18T11:34:40.000Z title="2025-03-18, 12:34">18 мар в 12:34</time></a></span></span></div><div class=tm-comment__buttons><button class="tm-comment__button tm-comment__button_with-icon" type=button></button></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>Просто формулировка немного неточная получилась, под "существуют" я имел в виду это:<blockquote><p>Так вот —&nbsp;планирование горутин происходит на уровне user space, то есть ими управляет планировщик Go (если точнее — <a href=https://pkg.go.dev/runtime rel="noopener noreferrer nofollow" target=_blank>Go Runtime</a>), а планирование тредов на уровне kernel space, то есть ими управляет ОС.</p></blockquote><p>Так устроит?<p><blockquote><p>И ещё много чего...</p></blockquote><p>Внимательно слушаю, что ещё?</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 2: ↑1 и ↓1"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class=tm-votes-lever__score-counter data-test-id=votes-score-counter>0</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28054706></button></div></div></article><div class=tm-comment-thread__children><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28054980 class=tm-comment-thread__target name=comment_28054980></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-2"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-2 data-comment-body=28054980><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/Uint32/ class=tm-user-info__userpic data-test-id=user-info-pic title=Uint32><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://habrastorage.org/getpro/habr/avatars/5dd/aa2/7ae/5ddaa27ae98d0745dec9a35f45b82aa8.gif></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/Uint32/ class=tm-user-info__username>Uint32 </a><a class=tm-comment-thread__comment-link href=#comment_28054980><time datetime=2025-03-18T12:27:50.000Z title="2025-03-18, 13:27">18 мар в 13:27</time></a></span></span></div><div class=tm-comment__buttons><button class="tm-comment__button tm-comment__button_with-icon" type=button></button></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>совет - избегайте упоминания user и kernel spice вообще. К работе планировщика GO это не имеет отношения. Примените "исполнение планируется планировщиком GO или ОС"</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 1: ↑1 и ↓0"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_positive" data-test-id=votes-score-counter>+1</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28054980></button></div></div></article></section></div></section><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28054856 class=tm-comment-thread__target name=comment_28054856></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-1"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-1 data-comment-body=28054856><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/Kahelman/ class=tm-user-info__userpic data-test-id=user-info-pic title=Kahelman><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://assets.habr.com/habr-web/img/avatars/002.png></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/Kahelman/ class=tm-user-info__username>Kahelman </a><a class=tm-comment-thread__comment-link href=#comment_28054856><time datetime=2025-03-18T12:00:31.000Z title="2025-03-18, 13:00">18 мар в 13:00</time></a></span></span></div><div class=tm-comment__buttons><button class="tm-comment__button tm-comment__button_with-icon" type=button></button></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>Как уже писал: не используйте само придуманных названий. Есть устоявшаяся терминология: в Го, Erlang и других языках которые базируются на идее Communication Sequantial Processes - используется понятие Процесс. Обычно говориться то в отличии от OS процесса- он является light-weighted. Этого достаточно для понимания и устраняет двусмысленность<p>Дальше тоже интересно:<p>“Порядок проверки очередей<br> Теперь у нас есть два типа очередей - LRQ и GRQ. Соответственно, каждый Процессор может брать работу в двух местах, а значит нам нужно определиться, в каком порядке он будет это делать.<br> Очевидно, что сначала Процессор будем заглядывать в LRQ, ведь она самая быстрая, именно ради этого мы её и ввели. Но если там пусто, то далее Процессор заглянет в GRQ.<br> Правда, тут может возникнуть ещё одна проблема — если LRQ всех процессоров постоянно пополняется, то Процессоры всегда будут брать работу оттуда, и никогда не доберутся до GRQ. Это плохо, потому что горутины в глобальной очереди начнут застаиваться, поэтому нам стоит иногда проверять её вне очереди. Но как часто? Очевидно, один раз из 61!”<p>Раздачу go рутин по очередям вроде как планировщик должен осуществлять а не сам процесс.</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 2: ↑1 и ↓1"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class=tm-votes-lever__score-counter data-test-id=votes-score-counter>0</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28054856></button></div></div></article><div class=tm-comment-thread__children><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28054894 class=tm-comment-thread__target name=comment_28054894></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-2"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-2 data-comment-body=28054894><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class="tm-comment__header tm-comment__header_is-by-op" data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/JustSkiv/ class=tm-user-info__userpic data-test-id=user-info-pic title=JustSkiv><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://habrastorage.org/r/w48/getpro/habr/avatars/743/20a/a35/74320aa3534088f9f6bf240441c5067d.jpg></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/JustSkiv/ class=tm-user-info__username>JustSkiv </a><a class=tm-comment-thread__comment-link href=#comment_28054894><time datetime=2025-03-18T12:07:53.000Z title="2025-03-18, 13:07">18 мар в 13:07</time></a></span></span></div><div class=tm-comment__buttons><button class="tm-comment__button tm-comment__button_with-icon" type=button></button></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><blockquote><p>Раздачу go рутин по очередям вроде как планировщик должен осуществлять а не сам процесс</p></blockquote><p>Дяденька, а вы точно настоящий сварщик..?</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 3: ↑2 и ↓1"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_positive" data-test-id=votes-score-counter>+1</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28054894></button></div></div></article><div class=tm-comment-thread__children><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28055576 class=tm-comment-thread__target name=comment_28055576></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-3"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-3 data-comment-body=28055576><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/Kahelman/ class=tm-user-info__userpic data-test-id=user-info-pic title=Kahelman><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://assets.habr.com/habr-web/img/avatars/002.png></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/Kahelman/ class=tm-user-info__username>Kahelman </a><a class=tm-comment-thread__comment-link href=#comment_28055576><time datetime=2025-03-18T14:39:01.000Z title="2025-03-18, 15:39">18 мар в 15:39</time></a></span></span></div><div class=tm-comment__buttons><button class="tm-comment__button tm-comment__button_with-icon" type=button></button></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>Вроде да:<p><a href=https://github.com/golang/go/blob/master/src/runtime/proc.go rel="noopener noreferrer nofollow" target=_blank>https://github.com/golang/go/blob/master/src/runtime/proc.go</a><p>// Goroutine scheduler<br> // The scheduler's job is to distribute ready-to-run goroutines over worker threads.<br> //<br> // The main concepts are:<br> // G - goroutine.<br> // M - worker thread, or machine.<br> // P - processor, a resource that is required to execute Go code.<br> // M must have an associated P to execute Go code, however it can be<br> // blocked or in a syscall w/o an associated P.<p>Можете конечно сами код посмотреть но я бы и комментариям поверил</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 2: ↑1 и ↓1"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class=tm-votes-lever__score-counter data-test-id=votes-score-counter>0</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28055576></button></div></div></article></section></div></section><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28056140 class=tm-comment-thread__target name=comment_28056140></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-2"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-2 data-comment-body=28056140><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/jamshedjuraev/ class=tm-user-info__userpic data-test-id=user-info-pic title=jamshedjuraev><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://habrastorage.org/r/w48/getpro/habr/avatars/ce5/ac3/fd5/ce5ac3fd57ad017b2059b3f2877474be.png></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/jamshedjuraev/ class=tm-user-info__username>jamshedjuraev </a><a class=tm-comment-thread__comment-link href=#comment_28056140><time datetime=2025-03-18T17:12:39.000Z title="2025-03-18, 18:12">18 мар в 18:12</time></a></span></span></div><div class=tm-comment__buttons><button class="tm-comment__button tm-comment__button_with-icon" type=button></button></div></header><div class="tm-comment__body-content tm-comment__body-content_muted tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>Че за душнила</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 5: ↑2 и ↓3"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_negative" data-test-id=votes-score-counter>-1</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28056140></button></div></div></article></section><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28062304 class=tm-comment-thread__target name=comment_28062304></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-2"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-2 data-comment-body=28062304><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/Tsimur_S/ class=tm-user-info__userpic data-test-id=user-info-pic title=Tsimur_S><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://assets.habr.com/habr-web/img/avatars/023.png></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/Tsimur_S/ class=tm-user-info__username>Tsimur_S </a><a class=tm-comment-thread__comment-link href=#comment_28062304><time datetime=2025-03-20T08:16:30.000Z title="2025-03-20, 09:16">9 часов назад</time></a></span></span></div><div class=tm-comment__buttons><button class="tm-comment__button tm-comment__button_with-icon" type=button></button></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><blockquote><p>Как уже писал: не используйте само придуманных названий. Есть устоявшаяся терминология: в Го, Erlang и других языках которые базируются на идее Communication Sequantial Processes - используется понятие Процесс. Обычно говориться то в отличии от OS процесса- он является light-weighted. Этого достаточно для понимания и устраняет двусмысленность</p></blockquote><p>Сначала дайте определение вашей терминологии а потом навязывайте ее. Что за light-weighted process? Чем он отличается от треда? От горутины? <blockquote><p>Раздачу go рутин по очередям вроде как планировщик должен осуществлять а не сам процесс.</p></blockquote><p>Где противоречие этому в тексте сверху? Там нет ни одного слова про раздачу по очередям. Есть только про взятие из очередей.<p></p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 1: ↑1 и ↓0"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_positive" data-test-id=votes-score-counter>+1</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28062304></button></div></div></article></section></div></section></div></section><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28054404 class=tm-comment-thread__target name=comment_28054404></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-0 data-comment-body=28054404><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/kumkurum/ class=tm-user-info__userpic data-test-id=user-info-pic title=kumkurum><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://habrastorage.org/r/w48/getpro/habr/avatars/b4c/184/e5b/b4c184e5bb459dfe629f268bd87792ef.jpg></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/kumkurum/ class=tm-user-info__username>kumkurum </a><a class=tm-comment-thread__comment-link href=#comment_28054404><time datetime=2025-03-18T10:48:08.000Z title="2025-03-18, 11:48">18 мар в 11:48</time></a></span></span></div><div class=tm-comment__buttons></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>годнота</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 1: ↑1 и ↓0"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_positive" data-test-id=votes-score-counter>+1</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28054404></button></div></div></article></section><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28054450 class=tm-comment-thread__target name=comment_28054450></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-0 data-comment-body=28054450><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/dark90/ class=tm-user-info__userpic data-test-id=user-info-pic title=dark90><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://habrastorage.org/r/w48/getpro/habr/avatars/d35/e56/551/d35e565517b8598ddd426fcbf10df6f8.png></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/dark90/ class=tm-user-info__username>dark90 </a><a class=tm-comment-thread__comment-link href=#comment_28054450><time datetime=2025-03-18T10:55:37.000Z title="2025-03-18, 11:55">18 мар в 11:55</time></a></span></span></div><div class=tm-comment__buttons></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>Я бы еще доклад от создателя этого планировщика добавил, откуда автор явно черпал вдохновение<p><a href="https://www.youtube.com/watch?v=-K11rY57K7k" rel="noopener noreferrer nofollow" target=_blank>https://www.youtube.com/watch?v=-K11rY57K7k</a></p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 2: ↑2 и ↓0"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_positive" data-test-id=votes-score-counter>+2</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28054450></button></div></div></article><div class=tm-comment-thread__children><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28054458 class=tm-comment-thread__target name=comment_28054458></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-1"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-1 data-comment-body=28054458><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class="tm-comment__header tm-comment__header_is-by-op" data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/JustSkiv/ class=tm-user-info__userpic data-test-id=user-info-pic title=JustSkiv><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://habrastorage.org/r/w48/getpro/habr/avatars/743/20a/a35/74320aa3534088f9f6bf240441c5067d.jpg></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/JustSkiv/ class=tm-user-info__username>JustSkiv </a><a class=tm-comment-thread__comment-link href=#comment_28054458><time datetime=2025-03-18T10:56:47.000Z title="2025-03-18, 11:56">18 мар в 11:56</time></a></span></span></div><div class=tm-comment__buttons><button class="tm-comment__button tm-comment__button_with-icon" type=button></button></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>Да, но не только оттуда. Как-нибудь руки доберутся, я причешу и скину весь список материалов, которые использовал.</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 2: ↑2 и ↓0"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_positive" data-test-id=votes-score-counter>+2</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28054458></button></div></div></article></section></div></section><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28055758 class=tm-comment-thread__target name=comment_28055758></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-0 data-comment-body=28055758><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/mm31/ class=tm-user-info__userpic data-test-id=user-info-pic title=mm31><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://assets.habr.com/habr-web/img/avatars/119.png></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/mm31/ class=tm-user-info__username>mm31 </a><a class=tm-comment-thread__comment-link href=#comment_28055758><time datetime=2025-03-18T15:18:02.000Z title="2025-03-18, 16:18">18 мар в 16:18</time></a></span></span></div><div class=tm-comment__buttons></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>Отличная статья. Спасибо!</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 2: ↑2 и ↓0"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_positive" data-test-id=votes-score-counter>+2</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28055758></button></div></div></article></section><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28056142 class=tm-comment-thread__target name=comment_28056142></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-0 data-comment-body=28056142><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/kievzenit/ class=tm-user-info__userpic data-test-id=user-info-pic title=kievzenit><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://assets.habr.com/habr-web/img/avatars/186.png></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/kievzenit/ class=tm-user-info__username>kievzenit </a><a class=tm-comment-thread__comment-link href=#comment_28056142><time datetime=2025-03-18T17:12:53.000Z title="2025-03-18, 18:12">18 мар в 18:12</time></a></span></span></div><div class=tm-comment__buttons></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>Очень интересно! Огромное вам спасибо! Жду следующую часть!</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 2: ↑2 и ↓0"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_positive" data-test-id=votes-score-counter>+2</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28056142></button></div></div></article></section><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28058748 class=tm-comment-thread__target name=comment_28058748></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-0 data-comment-body=28058748><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/olegsafonov/ class=tm-user-info__userpic data-test-id=user-info-pic title=olegsafonov><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://assets.habr.com/habr-web/img/avatars/188.png></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/olegsafonov/ class=tm-user-info__username>olegsafonov </a><a class=tm-comment-thread__comment-link href=#comment_28058748><time datetime=2025-03-19T10:33:12.000Z title="2025-03-19, 11:33">вчера в 11:33</time></a></span></span></div><div class=tm-comment__buttons></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>Спасибо, что почти везде используете термин "тред", а не "поток". Так гораздо лучше</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Комментарий пока не оценивали"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class=tm-votes-lever__score-counter data-test-id=votes-score-counter>0</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28058748></button></div></div></article></section><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28060718 class=tm-comment-thread__target name=comment_28060718></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-0 data-comment-body=28060718><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/Derfirm/ class=tm-user-info__userpic data-test-id=user-info-pic title=Derfirm><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://assets.habr.com/habr-web/img/avatars/114.png></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/Derfirm/ class=tm-user-info__username>Derfirm </a><a class=tm-comment-thread__comment-link href=#comment_28060718><time datetime=2025-03-19T19:18:22.000Z title="2025-03-19, 20:18">22 часа назад</time></a></span></span></div><div class=tm-comment__buttons></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>Здравствуйте, спасибо за статью. Я использую простой пример при пояснении конкурентности и параллелизма - мы сами (люди то бишь). Человек мыслит конкурентно, обдумывая только 1 вещь в один момент времени, но при этом люди думают о разных или одинаковых вещах в одно и то же время.</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 1: ↑1 и ↓0"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_positive" data-test-id=votes-score-counter>+1</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28060718></button></div></div></article></section><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28061232 class=tm-comment-thread__target name=comment_28061232></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-0 data-comment-body=28061232><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/gigoroma/ class=tm-user-info__userpic data-test-id=user-info-pic title=gigoroma><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://assets.habr.com/habr-web/img/avatars/054.png></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/gigoroma/ class=tm-user-info__username>gigoroma </a><a class=tm-comment-thread__comment-link href=#comment_28061232><time datetime=2025-03-20T01:52:31.000Z title="2025-03-20, 02:52">15 часов назад</time></a></span></span></div><div class=tm-comment__buttons></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>Ллмка пишет что неблокирующие системные вызовы на чтение файлов есть и в линкусе и в винде, похоже на правду. </p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Комментарий пока не оценивали"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class=tm-votes-lever__score-counter data-test-id=votes-score-counter>0</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28061232></button></div></div></article></section><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28061242 class=tm-comment-thread__target name=comment_28061242></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-0 data-comment-body=28061242><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/vgapeev/ class=tm-user-info__userpic data-test-id=user-info-pic title=vgapeev><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://assets.habr.com/habr-web/img/avatars/151.png></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/vgapeev/ class=tm-user-info__username>vgapeev </a><a class=tm-comment-thread__comment-link href=#comment_28061242><time datetime=2025-03-20T02:21:18.000Z title="2025-03-20, 03:21">15 часов назад</time></a></span></span></div><div class=tm-comment__buttons></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>Отличная статья, спасибо большое!<br>Хотел спросить, куда деваются горутины, которые освободили управление через проверку флага <code>stackguard</code>? Правильно ли я понимаю, что они помещаются в конец локальной очереди выполнения своего процессора?</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 1: ↑1 и ↓0"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_positive" data-test-id=votes-score-counter>+1</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28061242></button></div></div></article><div class=tm-comment-thread__children><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28061868 class=tm-comment-thread__target name=comment_28061868></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-1"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-1 data-comment-body=28061868><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class="tm-comment__header tm-comment__header_is-by-op" data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/JustSkiv/ class=tm-user-info__userpic data-test-id=user-info-pic title=JustSkiv><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://habrastorage.org/r/w48/getpro/habr/avatars/743/20a/a35/74320aa3534088f9f6bf240441c5067d.jpg></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/JustSkiv/ class=tm-user-info__username>JustSkiv </a><a class=tm-comment-thread__comment-link href=#comment_28061868><time datetime=2025-03-20T06:38:20.000Z title="2025-03-20, 07:38">11 часов назад</time></a></span></span></div><div class=tm-comment__buttons><button class="tm-comment__button tm-comment__button_with-icon" type=button></button></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>Нет, они попадают в GRQ.<p>Спасибо за вопрос, это важный момент. Чуть позже добавлю уточнение и в статью.</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 1: ↑1 и ↓0"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_positive" data-test-id=votes-score-counter>+1</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28061868></button></div></div></article></section></div></section><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28062776 class=tm-comment-thread__target name=comment_28062776></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-0 data-comment-body=28062776><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/bobrsson/ class=tm-user-info__userpic data-test-id=user-info-pic title=bobrsson><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://assets.habr.com/habr-web/img/avatars/073.png></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/bobrsson/ class=tm-user-info__username>bobrsson </a><a class=tm-comment-thread__comment-link href=#comment_28062776><time datetime=2025-03-20T09:46:28.000Z title="2025-03-20, 10:46">8 часов назад</time></a></span></span></div><div class=tm-comment__buttons></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>Очень круто. Появилось понимание качественное. Будем ждать еще статей о тебя) спасибо!</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 1: ↑1 и ↓0"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_positive" data-test-id=votes-score-counter>+1</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28062776></button></div></div></article></section><section class=tm-comment-thread><article class=tm-comment-thread__comment><a id=comment_28065374 class=tm-comment-thread__target name=comment_28065374></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class=tm-comment-thread__circle></div></button><div class=tm-comment-thread__indent_l-0 data-comment-body=28065374><div class=tm-comment data-gallery-root popup-toggle-visible=false><header class=tm-comment__header data-comment-header tabindex=-1><div class=tm-comment__header-inner><span class="tm-user-info tm-comment__user-info"><a href=https://habr.com/ru/users/OlegProSmol/ class=tm-user-info__userpic data-test-id=user-info-pic title=OlegProSmol><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://assets.habr.com/habr-web/img/avatars/108.png></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/OlegProSmol/ class=tm-user-info__username>OlegProSmol </a><a class=tm-comment-thread__comment-link href=#comment_28065374><time datetime=2025-03-20T17:43:27.000Z title="2025-03-20, 18:43">5 минут назад</time></a></span></span></div><div class=tm-comment__buttons></div></header><div class="tm-comment__body-content tm-comment__body-content_v2"><div xmlns=http://www.w3.org/1999/xhtml><p>Отличый материал. Замечательно, что матриал представлен в текстовом виде и видео, какждый может выбрать формат удобный для себя или оба.</p></div></div></div><div class=tm-comment-footer><div class="tm-votes-lever tm-votes-lever_appearance-comment tm-comment-footer__votes-switcher" title="Всего голосов 1: ↑1 и ↓0"><button class=tm-votes-lever__button data-test-id=votes-lever-upvote-button title=Нравится type=button></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-comment"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_positive" data-test-id=votes-score-counter>+1</span></div><button class=tm-votes-lever__button data-test-id=votes-lever-downvote-button title="Не нравится" type=button></button></div><button class=tm-comment-thread__button type=button>Ответить</button><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span></button><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup=28065374></button></div></div></article></section></div><div class="tm-comment-navigation tm-comment-navigation__block tm-comment-navigation__has-new_reverse"><button class="tm-comment-navigation__button tm-comment-navigation__button_refresh" title="Обновить комментарии"></button><div class=tm-comment-navigation__wrapper></div></div></div></div><div class=tm-comment-form><div class=tm-comment-form__field><label class=tm-comment-form__label>Ваш комментарий</label><div class=tm-comment-form__editor><div data-test-id=comment-form-wysiwyg><div class=editor><div class=editor__content data-test-id=editor-content spellcheck=true><div contenteditable=true role=textbox translate=no class="tiptap ProseMirror" tabindex=0><div class="is-empty is-editor-empty node node_paragraph" data-node-view-wrapper data-placeholder="Введите текст"><div class=right-menu__container contenteditable=false><button type=button class="node__dots button-icon"></button><div contenteditable=false class="context-menu right-menu"></div></div><div class=node__inner><p data-node-view-content data-placeholder='Нажмите "/" для вызова меню'><br class=ProseMirror-trailingBreak></p></div></div></div></div></div></div></div></div><div class=tm-comment-form__controls><div class=tm-comment-form__controls-buttons><button class="tm-comment-form__button tm-comment-form__button_send" data-test-id=button-send-comment disabled>Отправить</button></div><div class="tm-markdown-switcher tm-comment-form__markdown-toggle"><button class=tm-markdown-switcher__control type=button></button></div></div></div></div></div></div></div></div></div></div><section class="tm-block tm-block_spacing-bottom"><header class="tm-block__header tm-block__header_variant-borderless"><div class=tm-block__header-container><h2 class="tm-block__title tm-block__title_variant-large">Публикации</h2></div></header><div class="tm-block__body tm-block__body_variant-condensed-slim"><div class=tm-tabs><div><span class=tm-tabs__tab-item><button class="tm-tabs__tab-link tm-tabs__tab-link_active tm-tabs__tab-link_slim">Лучшие за сутки</button></span><span class=tm-tabs__tab-item><button class="tm-tabs__tab-link tm-tabs__tab-link_slim">Похожие</button></span></div></div><div class=similar-and-daily__tab-view><div class=daily-articles-list><ul class=tm-article-card-list><li class=tm-bordered-card><div class="tm-article-snippet tm-article-snippet_noBorder"><div class=tm-article-snippet__meta-container><div class=tm-article-snippet__meta><span class="tm-user-info tm-article-snippet__author"><a href=https://habr.com/ru/users/rssdev10/ class=tm-user-info__userpic data-test-id=user-info-pic title=rssdev10><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://assets.habr.com/habr-web/img/avatars/161.png></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/rssdev10/ class=tm-user-info__username>rssdev10 </a><span class=tm-article-datetime-published><time datetime=2025-03-20T09:05:07.000Z title="2025-03-20, 10:05">8 часов назад</time></span></span></span></div></div><h2 class="tm-title tm-title_h2" lang=ru data-test-id=articleTitle><a href=https://habr.com/ru/articles/892190/ class=tm-title__link data-article-link=true data-test-id=article-snippet-title-link><span>Почему въехав по «визе талантов» в США я с радостью вернулся в Россию</span></a></h2><div class=tm-article-snippet__stats data-test-id=articleStats><div class="tm-article-complexity tm-article-complexity_complexity-medium"><span class="tm-svg-icon__wrapper tm-article-complexity__icon"></span><span class=tm-article-complexity__label>Средний</span></div><div class=tm-article-reading-time><span class="tm-svg-icon__wrapper tm-article-reading-time__icon"></span><span class=tm-article-reading-time__label>32 мин</span></div><span class="tm-icon-counter tm-data-icons__item"><span class=tm-icon-counter__value title=16064>16K</span></span></div><div class=tm-article-labels data-test-id=articleLabels><div class=tm-article-labels__container><div class="tm-publication-label tm-publication-label_variant-opinion"><span>Мнение</span></div></div></div></div><div class="tm-data-icons tm-data-icons_space-big" data-test-id=article-stats-icons><div class="tm-votes-meter tm-data-icons__item"><span class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_appearance-article tm-votes-meter__value_rating" data-test-id=votes-meter-value title="Всего голосов 179: ↑116 и ↓63">+75</span></div><button class="bookmarks-button tm-data-icons__item" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span><span class=bookmarks-button__counter title="Количество пользователей, добавивших публикацию в закладки">48</span></button><div class="tm-article-comments-counter-link tm-data-icons__item" title="Читать комментарии"><a href=https://habr.com/ru/articles/892190/comments/ class=tm-article-comments-counter-link__link data-test-id=counter-comments><span class=tm-article-comments-counter-link__value>248</span></a><a href=https://habr.com/ru/articles/892190/comments/ class=tm-article-comments-counter-link__link data-test-id=unread-count><div class="tm-article-comments-counter-link__unread-counter tm-article-comments-counter-link__unread-counter_roundOnMobile" title="Читать новые комментарии"><span>+248</span></div></a></div></div><li class=tm-bordered-card><div class="tm-article-snippet tm-article-snippet_noBorder"><div class=tm-article-snippet__meta-container><div class=tm-article-snippet__meta><span class="tm-user-info tm-article-snippet__author"><a href=https://habr.com/ru/users/PatientZero/ class=tm-user-info__userpic data-test-id=user-info-pic title=PatientZero><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://habrastorage.org/r/w48/getpro/habr/avatars/8de/9c5/34a/8de9c534a18a6cb8693270a2b528d4c0.png></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/PatientZero/ class=tm-user-info__username>PatientZero </a><span class=tm-article-datetime-published><time datetime=2025-03-20T05:29:50.000Z title="2025-03-20, 06:29">12 часов назад</time></span></span></span></div></div><h2 class="tm-title tm-title_h2" lang=ru data-test-id=articleTitle><a href=https://habr.com/ru/articles/892270/ class=tm-title__link data-article-link=true data-test-id=article-snippet-title-link><span>Генератор случайных чисел, застрявший на одном значении</span></a></h2><div class=tm-article-snippet__stats data-test-id=articleStats><div class="tm-article-complexity tm-article-complexity_complexity-low"><span class="tm-svg-icon__wrapper tm-article-complexity__icon"></span><span class=tm-article-complexity__label>Простой</span></div><div class=tm-article-reading-time><span class="tm-svg-icon__wrapper tm-article-reading-time__icon"></span><span class=tm-article-reading-time__label>7 мин</span></div><span class="tm-icon-counter tm-data-icons__item"><span class=tm-icon-counter__value title=2884>2.9K</span></span></div><div class=tm-article-labels data-test-id=articleLabels><div class=tm-article-labels__container><div class="tm-publication-label tm-publication-label_variant-review"><span>Обзор</span></div><div class="tm-publication-label tm-publication-label_variant-translation"><span>Перевод</span></div></div></div></div><div class="tm-data-icons tm-data-icons_space-big" data-test-id=article-stats-icons><div class="tm-votes-meter tm-data-icons__item"><span class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_appearance-article tm-votes-meter__value_rating" data-test-id=votes-meter-value title="Всего голосов 22: ↑22 и ↓0">+34</span></div><button class="bookmarks-button tm-data-icons__item" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span><span class=bookmarks-button__counter title="Количество пользователей, добавивших публикацию в закладки">10</span></button><div class="tm-article-comments-counter-link tm-data-icons__item" title="Читать комментарии"><a href=https://habr.com/ru/articles/892270/comments/ class=tm-article-comments-counter-link__link data-test-id=counter-comments><span class=tm-article-comments-counter-link__value>5</span></a><a href=https://habr.com/ru/articles/892270/comments/ class=tm-article-comments-counter-link__link data-test-id=unread-count><div class="tm-article-comments-counter-link__unread-counter tm-article-comments-counter-link__unread-counter_roundOnMobile" title="Читать новые комментарии"><span>+5</span></div></a></div></div><li class=tm-bordered-card><div class="tm-article-snippet tm-article-snippet_noBorder"><div class=tm-article-snippet__meta-container><div class=tm-article-snippet__meta><span class="tm-user-info tm-article-snippet__author"><a href=https://habr.com/ru/users/OrkBiotechnologist/ class=tm-user-info__userpic data-test-id=user-info-pic title=OrkBiotechnologist><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://habrastorage.org/r/w48/getpro/habr/avatars/503/47f/355/50347f355563edb154d83f473dacaa50.jpg></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/OrkBiotechnologist/ class=tm-user-info__username>OrkBiotechnologist </a><span class=tm-article-datetime-published><time datetime=2025-03-20T09:01:18.000Z title="2025-03-20, 10:01">8 часов назад</time></span></span></span></div></div><h2 class="tm-title tm-title_h2" lang=ru data-test-id=articleTitle><a href=https://habr.com/ru/companies/ruvds/articles/891832/ class=tm-title__link data-article-link=true data-test-id=article-snippet-title-link><span>VPS за 139 рублей — дом для вашего резюме на основе Hugo</span></a></h2><div class=tm-article-snippet__stats data-test-id=articleStats><div class="tm-article-complexity tm-article-complexity_complexity-low"><span class="tm-svg-icon__wrapper tm-article-complexity__icon"></span><span class=tm-article-complexity__label>Простой</span></div><div class=tm-article-reading-time><span class="tm-svg-icon__wrapper tm-article-reading-time__icon"></span><span class=tm-article-reading-time__label>7 мин</span></div><span class="tm-icon-counter tm-data-icons__item"><span class=tm-icon-counter__value title=3424>3.4K</span></span></div><div class=tm-article-labels data-test-id=articleLabels><div class=tm-article-labels__container><div class="tm-publication-label tm-publication-label_variant-tutorial"><span>Туториал</span></div></div></div></div><div class="tm-data-icons tm-data-icons_space-big" data-test-id=article-stats-icons><div class="tm-votes-meter tm-data-icons__item"><span class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_appearance-article tm-votes-meter__value_rating" data-test-id=votes-meter-value title="Всего голосов 20: ↑16 и ↓4">+25</span></div><button class="bookmarks-button tm-data-icons__item" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span><span class=bookmarks-button__counter title="Количество пользователей, добавивших публикацию в закладки">26</span></button><div class="tm-article-comments-counter-link tm-data-icons__item" title="Читать комментарии"><a href=https://habr.com/ru/companies/ruvds/articles/891832/comments/ class=tm-article-comments-counter-link__link data-test-id=counter-comments><span class=tm-article-comments-counter-link__value>3</span></a><a href=https://habr.com/ru/companies/ruvds/articles/891832/comments/ class=tm-article-comments-counter-link__link data-test-id=unread-count><div class="tm-article-comments-counter-link__unread-counter tm-article-comments-counter-link__unread-counter_roundOnMobile" title="Читать новые комментарии"><span>+3</span></div></a></div></div><li class=tm-bordered-card><div class="tm-article-snippet tm-article-snippet_noBorder"><div class=tm-article-snippet__meta-container><div class=tm-article-snippet__meta><span class="tm-user-info tm-article-snippet__author"><a href=https://habr.com/ru/users/nebykoff_anton/ class=tm-user-info__userpic data-test-id=user-info-pic title=nebykoff_anton><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://habrastorage.org/r/w48/getpro/habr/avatars/bd4/b27/0ce/bd4b270ce58350f297e5ceacbfb737ff.jpeg></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/nebykoff_anton/ class=tm-user-info__username>nebykoff_anton </a><span class=tm-article-datetime-published><time datetime=2025-03-20T08:03:09.000Z title="2025-03-20, 09:03">9 часов назад</time></span></span></span></div></div><h2 class="tm-title tm-title_h2" lang=ru data-test-id=articleTitle><a href=https://habr.com/ru/companies/idaproject/articles/891810/ class=tm-title__link data-article-link=true data-test-id=article-snippet-title-link><span>До и после: оптимизация изображений для Lighthouse и не только</span></a></h2><div class=tm-article-snippet__stats data-test-id=articleStats><div class="tm-article-complexity tm-article-complexity_complexity-low"><span class="tm-svg-icon__wrapper tm-article-complexity__icon"></span><span class=tm-article-complexity__label>Простой</span></div><div class=tm-article-reading-time><span class="tm-svg-icon__wrapper tm-article-reading-time__icon"></span><span class=tm-article-reading-time__label>8 мин</span></div><span class="tm-icon-counter tm-data-icons__item"><span class=tm-icon-counter__value title=656>656</span></span></div><div class=tm-article-labels data-test-id=articleLabels><div class=tm-article-labels__container><div class="tm-publication-label tm-publication-label_variant-tutorial"><span>Туториал</span></div></div></div></div><div class="tm-data-icons tm-data-icons_space-big" data-test-id=article-stats-icons><div class="tm-votes-meter tm-data-icons__item"><span class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_appearance-article tm-votes-meter__value_rating" data-test-id=votes-meter-value title="Всего голосов 24: ↑24 и ↓0">+25</span></div><button class="bookmarks-button tm-data-icons__item" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span><span class=bookmarks-button__counter title="Количество пользователей, добавивших публикацию в закладки">22</span></button><div class="tm-article-comments-counter-link tm-data-icons__item" title="Читать комментарии"><a href=https://habr.com/ru/companies/idaproject/articles/891810/comments/ class=tm-article-comments-counter-link__link data-test-id=counter-comments><span class=tm-article-comments-counter-link__value>2</span></a><a href=https://habr.com/ru/companies/idaproject/articles/891810/comments/ class=tm-article-comments-counter-link__link data-test-id=unread-count><div class="tm-article-comments-counter-link__unread-counter tm-article-comments-counter-link__unread-counter_roundOnMobile" title="Читать новые комментарии"><span>+2</span></div></a></div></div><li class=tm-bordered-card><div class="tm-article-snippet tm-article-snippet_noBorder"><div class=tm-article-snippet__meta-container><div class=tm-article-snippet__meta><span class="tm-user-info tm-article-snippet__author"><a href=https://habr.com/ru/users/maxim_tsar/ class=tm-user-info__userpic data-test-id=user-info-pic title=maxim_tsar><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://assets.habr.com/habr-web/img/avatars/078.png></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/maxim_tsar/ class=tm-user-info__username>maxim_tsar </a><span class=tm-article-datetime-published><time datetime=2025-03-20T07:00:05.000Z title="2025-03-20, 08:00">10 часов назад</time></span></span></span></div></div><h2 class="tm-title tm-title_h2" lang=ru data-test-id=articleTitle><a href=https://habr.com/ru/companies/gazprombank/articles/892222/ class=tm-title__link data-article-link=true data-test-id=article-snippet-title-link><span>Приключения Хоббита в СССР</span></a></h2><div class=tm-article-snippet__stats data-test-id=articleStats><div class=tm-article-reading-time><span class="tm-svg-icon__wrapper tm-article-reading-time__icon"></span><span class=tm-article-reading-time__label>5 мин</span></div><span class="tm-icon-counter tm-data-icons__item"><span class=tm-icon-counter__value title=1995>2K</span></span></div></div><div class="tm-data-icons tm-data-icons_space-big" data-test-id=article-stats-icons><div class="tm-votes-meter tm-data-icons__item"><span class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_appearance-article tm-votes-meter__value_rating" data-test-id=votes-meter-value title="Всего голосов 20: ↑20 и ↓0">+25</span></div><button class="bookmarks-button tm-data-icons__item" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span><span class=bookmarks-button__counter title="Количество пользователей, добавивших публикацию в закладки">8</span></button><div class="tm-article-comments-counter-link tm-data-icons__item" title="Читать комментарии"><a href=https://habr.com/ru/companies/gazprombank/articles/892222/comments/ class=tm-article-comments-counter-link__link data-test-id=counter-comments><span class=tm-article-comments-counter-link__value>4</span></a><a href=https://habr.com/ru/companies/gazprombank/articles/892222/comments/ class=tm-article-comments-counter-link__link data-test-id=unread-count><div class="tm-article-comments-counter-link__unread-counter tm-article-comments-counter-link__unread-counter_roundOnMobile" title="Читать новые комментарии"><span>+4</span></div></a></div></div><li class=tm-bordered-card><div class="tm-article-snippet tm-article-snippet_noBorder"><div class=tm-article-snippet__meta-container><div class=tm-article-snippet__meta><span class="tm-user-info tm-article-snippet__author"><a href=https://habr.com/ru/users/melnik909/ class=tm-user-info__userpic data-test-id=user-info-pic title=melnik909><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://habrastorage.org/r/w48/getpro/habr/avatars/420/e9b/e8d/420e9be8df5187d293139c622af2dd00.jpg></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/melnik909/ class=tm-user-info__username>melnik909 </a><span class=tm-article-datetime-published><time datetime=2025-03-20T13:01:04.000Z title="2025-03-20, 14:01">4 часа назад</time></span></span></span></div></div><h2 class="tm-title tm-title_h2" lang=ru data-test-id=articleTitle><a href=https://habr.com/ru/companies/ruvds/articles/891912/ class=tm-title__link data-article-link=true data-test-id=article-snippet-title-link><span>Вы не знаете CSS. Мои вопросы о CSS с ответами. Часть 2</span></a></h2><div class=tm-article-snippet__stats data-test-id=articleStats><div class="tm-article-complexity tm-article-complexity_complexity-medium"><span class="tm-svg-icon__wrapper tm-article-complexity__icon"></span><span class=tm-article-complexity__label>Средний</span></div><div class=tm-article-reading-time><span class="tm-svg-icon__wrapper tm-article-reading-time__icon"></span><span class=tm-article-reading-time__label>7 мин</span></div><span class="tm-icon-counter tm-data-icons__item"><span class=tm-icon-counter__value title=716>716</span></span></div><div class=tm-article-labels data-test-id=articleLabels><div class=tm-article-labels__container><div class="tm-publication-label tm-publication-label_variant-review"><span>Обзор</span></div></div></div></div><div class="tm-data-icons tm-data-icons_space-big" data-test-id=article-stats-icons><div class="tm-votes-meter tm-data-icons__item"><span class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_appearance-article tm-votes-meter__value_rating" data-test-id=votes-meter-value title="Всего голосов 14: ↑14 и ↓0">+23</span></div><button class="bookmarks-button tm-data-icons__item" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span><span class=bookmarks-button__counter title="Количество пользователей, добавивших публикацию в закладки">13</span></button><div class="tm-article-comments-counter-link tm-data-icons__item" title="Читать комментарии"><a href=https://habr.com/ru/companies/ruvds/articles/891912/comments/ class=tm-article-comments-counter-link__link data-test-id=counter-comments><span class=tm-article-comments-counter-link__value>0</span></a></div></div><li class=tm-bordered-card><div class="tm-article-snippet tm-article-snippet_noBorder"><div class=tm-article-snippet__meta-container><div class=tm-article-snippet__meta><span class="tm-user-info tm-article-snippet__author"><a href=https://habr.com/ru/users/trofimovdals/ class=tm-user-info__userpic data-test-id=user-info-pic title=trofimovdals><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://habrastorage.org/r/w48/getpro/habr/avatars/c55/919/36f/c5591936f764df6d1b35df2fde6d708d.jpeg></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/trofimovdals/ class=tm-user-info__username>trofimovdals </a><span class=tm-article-datetime-published><time datetime=2025-03-20T06:00:10.000Z title="2025-03-20, 07:00">11 часов назад</time></span></span></span></div></div><h2 class="tm-title tm-title_h2" lang=ru data-test-id=articleTitle><a href=https://habr.com/ru/companies/flant/articles/891846/ class=tm-title__link data-article-link=true data-test-id=article-snippet-title-link><span>Как легко настроить аутентификацию для нескольких доменов в Kubernetes: Deckhouse Kubernetes Platform</span></a></h2><div class=tm-article-snippet__stats data-test-id=articleStats><div class="tm-article-complexity tm-article-complexity_complexity-low"><span class="tm-svg-icon__wrapper tm-article-complexity__icon"></span><span class=tm-article-complexity__label>Простой</span></div><div class=tm-article-reading-time><span class="tm-svg-icon__wrapper tm-article-reading-time__icon"></span><span class=tm-article-reading-time__label>13 мин</span></div><span class="tm-icon-counter tm-data-icons__item"><span class=tm-icon-counter__value title=486>486</span></span></div></div><div class="tm-data-icons tm-data-icons_space-big" data-test-id=article-stats-icons><div class="tm-votes-meter tm-data-icons__item"><span class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_appearance-article tm-votes-meter__value_rating" data-test-id=votes-meter-value title="Всего голосов 17: ↑17 и ↓0">+22</span></div><button class="bookmarks-button tm-data-icons__item" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span><span class=bookmarks-button__counter title="Количество пользователей, добавивших публикацию в закладки">15</span></button><div class="tm-article-comments-counter-link tm-data-icons__item" title="Читать комментарии"><a href=https://habr.com/ru/companies/flant/articles/891846/comments/ class=tm-article-comments-counter-link__link data-test-id=counter-comments><span class=tm-article-comments-counter-link__value>0</span></a></div></div><li class=tm-bordered-card><div class="tm-article-snippet tm-article-snippet_noBorder"><div class=tm-article-snippet__meta-container><div class=tm-article-snippet__meta><span class="tm-user-info tm-article-snippet__author"><a href=https://habr.com/ru/users/Kopcheniy/ class=tm-user-info__userpic data-test-id=user-info-pic title=Kopcheniy><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://habrastorage.org/r/w48/getpro/habr/avatars/d02/81c/e10/d0281ce100395ea1c76d67ea989fee8c.jpg></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/Kopcheniy/ class=tm-user-info__username>Kopcheniy </a><span class=tm-article-datetime-published><time datetime=2025-03-20T08:05:56.000Z title="2025-03-20, 09:05">9 часов назад</time></span></span></span></div></div><h2 class="tm-title tm-title_h2" lang=ru data-test-id=articleTitle><a href=https://habr.com/ru/companies/timeweb/articles/891722/ class=tm-title__link data-article-link=true data-test-id=article-snippet-title-link><span>Имитатор касаний. Ч2: Железная часть</span></a></h2><div class=tm-article-snippet__stats data-test-id=articleStats><div class="tm-article-complexity tm-article-complexity_complexity-medium"><span class="tm-svg-icon__wrapper tm-article-complexity__icon"></span><span class=tm-article-complexity__label>Средний</span></div><div class=tm-article-reading-time><span class="tm-svg-icon__wrapper tm-article-reading-time__icon"></span><span class=tm-article-reading-time__label>9 мин</span></div><span class="tm-icon-counter tm-data-icons__item"><span class=tm-icon-counter__value title=1039>1K</span></span></div><div class=tm-article-labels data-test-id=articleLabels><div class=tm-article-labels__container><div class="tm-publication-label tm-publication-label_variant-case"><span>Кейс</span></div></div></div></div><div class="tm-data-icons tm-data-icons_space-big" data-test-id=article-stats-icons><div class="tm-votes-meter tm-data-icons__item"><span class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_appearance-article tm-votes-meter__value_rating" data-test-id=votes-meter-value title="Всего голосов 10: ↑10 и ↓0">+18</span></div><button class="bookmarks-button tm-data-icons__item" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span><span class=bookmarks-button__counter title="Количество пользователей, добавивших публикацию в закладки">11</span></button><div class="tm-article-comments-counter-link tm-data-icons__item" title="Читать комментарии"><a href=https://habr.com/ru/companies/timeweb/articles/891722/comments/ class=tm-article-comments-counter-link__link data-test-id=counter-comments><span class=tm-article-comments-counter-link__value>10</span></a><a href=https://habr.com/ru/companies/timeweb/articles/891722/comments/ class=tm-article-comments-counter-link__link data-test-id=unread-count><div class="tm-article-comments-counter-link__unread-counter tm-article-comments-counter-link__unread-counter_roundOnMobile" title="Читать новые комментарии"><span>+10</span></div></a></div></div><li class=tm-bordered-card><div class="tm-article-snippet tm-article-snippet_noBorder"><div class=tm-article-snippet__meta-container><div class=tm-article-snippet__meta><span class="tm-user-info tm-article-snippet__author"><a href=https://habr.com/ru/users/Armageddon/ class=tm-user-info__userpic data-test-id=user-info-pic title=Armageddon><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://habrastorage.org/r/w48/getpro/habr/avatars/4ea/38c/018/4ea38c018c597babe1017d6b1912e21f.jpeg></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/Armageddon/ class=tm-user-info__username>Armageddon </a><span class=tm-article-datetime-published><time datetime=2025-03-20T07:00:22.000Z title="2025-03-20, 08:00">10 часов назад</time></span></span></span></div></div><h2 class="tm-title tm-title_h2" lang=ru data-test-id=articleTitle><a href=https://habr.com/ru/companies/yandex/articles/891592/ class=tm-title__link data-article-link=true data-test-id=article-snippet-title-link><span>Demeter в опенсорсе: реактивное профилирование Android-приложений</span></a></h2><div class=tm-article-snippet__stats data-test-id=articleStats><div class=tm-article-reading-time><span class="tm-svg-icon__wrapper tm-article-reading-time__icon"></span><span class=tm-article-reading-time__label>11 мин</span></div><span class="tm-icon-counter tm-data-icons__item"><span class=tm-icon-counter__value title=341>341</span></span></div></div><div class="tm-data-icons tm-data-icons_space-big" data-test-id=article-stats-icons><div class="tm-votes-meter tm-data-icons__item"><span class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_appearance-article tm-votes-meter__value_rating" data-test-id=votes-meter-value title="Всего голосов 16: ↑16 и ↓0">+18</span></div><button class="bookmarks-button tm-data-icons__item" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span><span class=bookmarks-button__counter title="Количество пользователей, добавивших публикацию в закладки">6</span></button><div class="tm-article-comments-counter-link tm-data-icons__item" title="Читать комментарии"><a href=https://habr.com/ru/companies/yandex/articles/891592/comments/ class=tm-article-comments-counter-link__link data-test-id=counter-comments><span class=tm-article-comments-counter-link__value>0</span></a></div></div><li class=tm-bordered-card><div class="tm-article-snippet tm-article-snippet_noBorder"><div class=tm-article-snippet__meta-container><div class=tm-article-snippet__meta><span class="tm-user-info tm-article-snippet__author"><a href=https://habr.com/ru/users/DAN_SEA/ class=tm-user-info__userpic data-test-id=user-info-pic title=DAN_SEA><div class=tm-entity-image><img alt class=tm-entity-image__pic height=24 src=data:, width=24 data-sf-original-src=https://assets.habr.com/habr-web/img/avatars/124.png></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id=user-info-description><a href=https://habr.com/ru/users/DAN_SEA/ class=tm-user-info__username>DAN_SEA </a><span class=tm-article-datetime-published><time datetime=2025-03-20T15:01:28.000Z title="2025-03-20, 16:01">2 часа назад</time></span></span></span></div></div><h2 class="tm-title tm-title_h2" lang=ru data-test-id=articleTitle><a href=https://habr.com/ru/companies/ruvds/articles/891292/ class=tm-title__link data-article-link=true data-test-id=article-snippet-title-link><span>Генерация случайных чисел</span></a></h2><div class=tm-article-snippet__stats data-test-id=articleStats><div class="tm-article-complexity tm-article-complexity_complexity-medium"><span class="tm-svg-icon__wrapper tm-article-complexity__icon"></span><span class=tm-article-complexity__label>Средний</span></div><div class=tm-article-reading-time><span class="tm-svg-icon__wrapper tm-article-reading-time__icon"></span><span class=tm-article-reading-time__label>10 мин</span></div><span class="tm-icon-counter tm-data-icons__item"><span class=tm-icon-counter__value title=648>648</span></span></div><div class=tm-article-labels data-test-id=articleLabels><div class=tm-article-labels__container><div class="tm-publication-label tm-publication-label_variant-review"><span>Обзор</span></div></div></div></div><div class="tm-data-icons tm-data-icons_space-big" data-test-id=article-stats-icons><div class="tm-votes-meter tm-data-icons__item"><span class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_appearance-article tm-votes-meter__value_rating" data-test-id=votes-meter-value title="Всего голосов 10: ↑9 и ↓1">+15</span></div><button class="bookmarks-button tm-data-icons__item" title="Добавить в закладки" type=button><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span><span class=bookmarks-button__counter title="Количество пользователей, добавивших публикацию в закладки">7</span></button><div class="tm-article-comments-counter-link tm-data-icons__item" title="Читать комментарии"><a href=https://habr.com/ru/companies/ruvds/articles/891292/comments/ class=tm-article-comments-counter-link__link data-test-id=counter-comments><span class=tm-article-comments-counter-link__value>12</span></a><a href=https://habr.com/ru/companies/ruvds/articles/891292/comments/ class=tm-article-comments-counter-link__link data-test-id=unread-count><div class="tm-article-comments-counter-link__unread-counter tm-article-comments-counter-link__unread-counter_roundOnMobile" title="Читать новые комментарии"><span>+12</span></div></a></div></div></li><div class=tm-bordered-card></div></ul><div class=daily-articles-block__button-container><button class="btn btn_transparent btn_small daily-articles-block__button" type=button>Показать еще</button></div></div></div></div></section><div></div><div class="tm-project-block tm-project-block_variant-vacancies" data-test-id=project-block><div class=tm-project-block__header><div class=tm-project-block__title><a class=tm-project-block__title-link href="https://career.habr.com/catalog?utm_campaign=vacancies_postlist&amp;utm_content=vacancies&amp;utm_medium=habr_block&amp;utm_source=habr_mob" rel=noopener target=_blank> Вакансии </a></div></div><div class=tm-project-block__content><ul class=tm-project-block-items><li class=tm-project-block-items__item><a class="tm-project-block-items__detail tm-project-block-items__title" href="https://career.habr.com/vacancies/1000152775?utm_campaign=vacancies_postlist&amp;utm_content=vacancy&amp;utm_medium=habr_block&amp;utm_source=habr_mob" rel=noopener target=_blank>Backend-Developer GO/Golang </a><div class=tm-project-block-items__properties><span class=tm-project-block-items__property-item>от 200&nbsp;000 до 300&nbsp;000 ₽</span><span class=tm-project-block-items__property-item>Тетрика</span><span class=tm-project-block-items__property-item>Москва</span><span class=tm-project-block-items__property-item>Можно удаленно</span></div><li class=tm-project-block-items__item><a class="tm-project-block-items__detail tm-project-block-items__title" href="https://career.habr.com/vacancies/1000141262?utm_campaign=vacancies_postlist&amp;utm_content=vacancy&amp;utm_medium=habr_block&amp;utm_source=habr_mob" rel=noopener target=_blank>Golang разработчик/Go developer/Программист</a><div class=tm-project-block-items__properties><span class=tm-project-block-items__property-item>от 200&nbsp;000 до 300&nbsp;000 ₽</span><span class=tm-project-block-items__property-item>ЭЛВИС-НеоТек</span><span class=tm-project-block-items__property-item>Можно удаленно</span></div><li class=tm-project-block-items__item><a class="tm-project-block-items__detail tm-project-block-items__title" href="https://career.habr.com/vacancies/1000150590?utm_campaign=vacancies_postlist&amp;utm_content=vacancy&amp;utm_medium=habr_block&amp;utm_source=habr_mob" rel=noopener target=_blank>Разработчик WebRTC-сервисов на Go в видеоплатформу</a><div class=tm-project-block-items__properties><span class=tm-project-block-items__property-item>от 300&nbsp;000 до 490&nbsp;000 ₽</span><span class=tm-project-block-items__property-item>Яндекс</span><span class=tm-project-block-items__property-item>Москва</span><span class=tm-project-block-items__property-item>Можно удаленно</span></div><li class=tm-project-block-items__item><a class="tm-project-block-items__detail tm-project-block-items__title" href="https://career.habr.com/vacancies/1000154944?utm_campaign=vacancies_postlist&amp;utm_content=vacancy&amp;utm_medium=habr_block&amp;utm_source=habr_mob" rel=noopener target=_blank>Go разработчик Middle/ Middle + / Senior</a><div class=tm-project-block-items__properties><span class=tm-project-block-items__property-item>от 200&nbsp;000 до 290&nbsp;000 ₽</span><span class=tm-project-block-items__property-item>SimpleIT</span><span class=tm-project-block-items__property-item>Можно удаленно</span></div><li class=tm-project-block-items__item><a class="tm-project-block-items__detail tm-project-block-items__title" href="https://career.habr.com/vacancies/1000147175?utm_campaign=vacancies_postlist&amp;utm_content=vacancy&amp;utm_medium=habr_block&amp;utm_source=habr_mob" rel=noopener target=_blank>Разработчик Golang</a><div class=tm-project-block-items__properties><span class=tm-project-block-items__property-item>до 400&nbsp;000 ₽</span><span class=tm-project-block-items__property-item>Wanted.</span><span class=tm-project-block-items__property-item>Москва</span><span class=tm-project-block-items__property-item>Можно удаленно</span></div></ul></div><div class=tm-project-block__footer><a class=tm-project-block__link href="https://career.habr.com/catalog?utm_campaign=vacancies_postlist&amp;utm_content=vacancies_all&amp;utm_medium=habr_block&amp;utm_source=habr_mob" rel=noopener target=_blank>Больше вакансий на Хабр Карьере</a></div></div></div></div></div></div></div><div class=tm-page__sidebar><div class=tm-layout-sidebar><div class=tm-layout-sidebar__placeholder_stick-bottom></div><div class="tm-sexy-sidebar tm-sexy-sidebar_stick-bottom"><div class="tm-layout-sidebar__ads tm-layout-sidebar__ads_stick-bottom"><div class="banner-wrapper half-page tm-layout-sidebar__banner tm-layout-sidebar__banner_top" data-v-ad758baa><div class="placeholder-wrapper placeholder" data-v-ad758baa><div data-v-40f619c6 class=disable-adblock-placeholder><div data-v-40f619c6 class=inner><p data-v-40f619c6 class=title>Пожалуйста, отключите блокировщик рекламы<p data-v-40f619c6 class=text><span data-v-40f619c6>Так вы можете поддержать Хабр</span></p></div></div></div><div id=adfox_164725680533065327 class=tm-adfox-banner data-v-ad758baa></div></div></div><section class="tm-block tm-block_spacing-bottom" ga-options="[object Object]"><header class=tm-block__header><div class=tm-block__header-container><h2 class=tm-block__title>Читают сейчас</h2></div></header><div class=tm-block__body><ul class=tm-article-list-block__list><li class=tm-article-list-block__item><article class="tm-article-snippet-block-sidebar tm-article-snippet-block-sidebar_preview"><h2 class="tm-article-title tm-article-title_sidebar"><a href=https://habr.com/ru/articles/892190/ class=tm-article-title__link><span>Почему въехав по «визе талантов» в США я с радостью вернулся в Россию</span></a></h2><div class="tm-data-icons tm-data-icons_space-big" data-test-id=article-stats-icons><span class="tm-icon-counter tm-data-icons__item"><span class=tm-icon-counter__value title=16064>16K</span></span><div class="tm-article-comments-counter-link tm-data-icons__item" title="Читать комментарии"><a href=https://habr.com/ru/articles/892190/comments/ class=tm-article-comments-counter-link__link data-test-id=counter-comments><span class=tm-article-comments-counter-link__value>248</span></a><a href=https://habr.com/ru/articles/892190/comments/ class=tm-article-comments-counter-link__link data-test-id=unread-count><div class="tm-article-comments-counter-link__unread-counter tm-article-comments-counter-link__unread-counter_roundOnMobile" title="Читать новые комментарии"><span>+248</span></div></a></div></div></article><li class=tm-article-list-block__item><article class="tm-article-snippet-block-sidebar tm-article-snippet-block-sidebar_preview"><h2 class="tm-article-title tm-article-title_sidebar"><a href=https://habr.com/ru/news/892806/ class=tm-article-title__link><span>YouTube не даёт воспроизводить видео с блокировщиками рекламы в Opera и Firefox, а в Chrome работает медленно</span></a></h2><div class="tm-data-icons tm-data-icons_space-big" data-test-id=article-stats-icons><span class="tm-icon-counter tm-data-icons__item"><span class=tm-icon-counter__value title=4501>4.5K</span></span><div class="tm-article-comments-counter-link tm-data-icons__item" title="Читать комментарии"><a href=https://habr.com/ru/news/892806/comments/ class=tm-article-comments-counter-link__link data-test-id=counter-comments><span class=tm-article-comments-counter-link__value>11</span></a><a href=https://habr.com/ru/news/892806/comments/ class=tm-article-comments-counter-link__link data-test-id=unread-count><div class="tm-article-comments-counter-link__unread-counter tm-article-comments-counter-link__unread-counter_roundOnMobile" title="Читать новые комментарии"><span>+11</span></div></a></div></div></article><li class=tm-article-list-block__item><article class="tm-article-snippet-block-sidebar tm-article-snippet-block-sidebar_preview"><h2 class="tm-article-title tm-article-title_sidebar"><a href=https://habr.com/ru/news/892682/ class=tm-article-title__link><span>«Яндекс Go» запустил виртуальную очередь для пассажиров такси тарифа «Эконом»</span></a></h2><div class="tm-data-icons tm-data-icons_space-big" data-test-id=article-stats-icons><span class="tm-icon-counter tm-data-icons__item"><span class=tm-icon-counter__value title=15827>16K</span></span><div class="tm-article-comments-counter-link tm-data-icons__item" title="Читать комментарии"><a href=https://habr.com/ru/news/892682/comments/ class=tm-article-comments-counter-link__link data-test-id=counter-comments><span class=tm-article-comments-counter-link__value>97</span></a><a href=https://habr.com/ru/news/892682/comments/ class=tm-article-comments-counter-link__link data-test-id=unread-count><div class="tm-article-comments-counter-link__unread-counter tm-article-comments-counter-link__unread-counter_roundOnMobile" title="Читать новые комментарии"><span>+97</span></div></a></div></div></article><li class=tm-article-list-block__item><article class="tm-article-snippet-block-sidebar tm-article-snippet-block-sidebar_preview"><h2 class="tm-article-title tm-article-title_sidebar"><a href=https://habr.com/ru/news/892816/ class=tm-article-title__link><span>Обыски в «Крок» и «Ланит»</span></a></h2><div class="tm-data-icons tm-data-icons_space-big" data-test-id=article-stats-icons><span class="tm-icon-counter tm-data-icons__item"><span class=tm-icon-counter__value title=3682>3.7K</span></span><div class="tm-article-comments-counter-link tm-data-icons__item" title="Читать комментарии"><a href=https://habr.com/ru/news/892816/comments/ class=tm-article-comments-counter-link__link data-test-id=counter-comments><span class=tm-article-comments-counter-link__value>11</span></a><a href=https://habr.com/ru/news/892816/comments/ class=tm-article-comments-counter-link__link data-test-id=unread-count><div class="tm-article-comments-counter-link__unread-counter tm-article-comments-counter-link__unread-counter_roundOnMobile" title="Читать новые комментарии"><span>+11</span></div></a></div></div></article><li class=tm-article-list-block__item><article class="tm-article-snippet-block-sidebar tm-article-snippet-block-sidebar_preview"><h2 class="tm-article-title tm-article-title_sidebar"><a href=https://habr.com/ru/news/892790/ class=tm-article-title__link><span>Ютубер спроектировал клавиатуру с 1020 клавишами — она печатает сразу слова, а не буквы</span></a></h2><div class="tm-data-icons tm-data-icons_space-big" data-test-id=article-stats-icons><span class="tm-icon-counter tm-data-icons__item"><span class=tm-icon-counter__value title=4998>5K</span></span><div class="tm-article-comments-counter-link tm-data-icons__item" title="Читать комментарии"><a href=https://habr.com/ru/news/892790/comments/ class=tm-article-comments-counter-link__link data-test-id=counter-comments><span class=tm-article-comments-counter-link__value>32</span></a><a href=https://habr.com/ru/news/892790/comments/ class=tm-article-comments-counter-link__link data-test-id=unread-count><div class="tm-article-comments-counter-link__unread-counter tm-article-comments-counter-link__unread-counter_roundOnMobile" title="Читать новые комментарии"><span>+32</span></div></a></div></div></article></ul></div></section><div></div><section class="tm-block tm-block_spacing-around" data-async-called=true><header class=tm-block__header><div class=tm-block__header-container><h2 class=tm-block__title>Работа</h2></div></header><div class=tm-block__body><div class=tm-vacancies-block__item><a class=tm-vacancies-block__vacancy-title href=https://career.habr.com/vacancies/go_razrabotchik target=_blank>Go разработчик</a><div class=tm-vacancies-block__vacancies-count>81
 вакансия</div></div></div><footer class=tm-block__footer><a class=tm-block-extralink href=https://career.habr.com/catalog>Все вакансии</a></footer></section><section class="tm-block tm-block_spacing-around block" data-async-called=true data-v-ebf6a21b><header class=tm-block__header><div class=tm-block__header-container><h2 class=tm-block__title>Ближайшие события</h2></div></header><div class=tm-block__body><div class="swiper-container slider swiper-container-initialized swiper-container-horizontal swiper-container-pointer-events swiper-container-autoheight" data-v-ebf6a21b><div class=swiper-wrapper><div class="swiper-slide swiper-slide-active" data-v-ebf6a21b><section class="tm-block tm-block_spacing-none" id=588 tabindex=-1 data-v-ebf6a21b><div class="tm-event-card tm-event-card_is-widget"><a href=https://habr.com/ru/events/588/><img alt class=tm-event-card__image data-src=https://habrastorage.org/getpro/habr/upload_files/f79/1fc/79d/f791fc79d0d9fdda84397ed0c0717764.png loading=eager src=data:, srcset data-sf-original-src=https://habrastorage.org/getpro/habr/upload_files/f79/1fc/79d/f791fc79d0d9fdda84397ed0c0717764.png data-sf-original-srcset="https://habrastorage.org/r/w390/getpro/habr/upload_files/f79/1fc/79d/f791fc79d0d9fdda84397ed0c0717764.png, https://habrastorage.org/getpro/habr/upload_files/f79/1fc/79d/f791fc79d0d9fdda84397ed0c0717764.png 2x" sizes></a><div class=tm-event-card__info><div class=tm-event-card__date><div class=tm-event-card__day><span>17 февраля – 24 марта </span></div></div><a href=https://habr.com/ru/events/588/ class=tm-event-card__title-link><span>Конкурс «Снежный код» от Хекслета. Три гранта на бесплатное 10-месячное обучение</span></a><div class=tm-event-card__places><div class=tm-event-card__places-list><span class=tm-event-card__places-item><span>Онлайн</span></span></div></div></div><div class="tm-event-card__footer tm-event-card__footer_widget"><a href=https://habr.com/ru/events/#588 class=tm-event-card__link>Больше событий в календаре</a><div class=tm-event-card__categories><div class="event-category__label event-category__label_type-development"><span>Разработка</span></div></div></div></div></section></div><div class="swiper-slide swiper-slide-next" data-v-ebf6a21b><section class="tm-block tm-block_spacing-none" id=596 tabindex=-1 data-v-ebf6a21b><div class="tm-event-card tm-event-card_is-widget"><a href=https://habr.com/ru/events/596/><img alt class=tm-event-card__image data-src=https://habrastorage.org/getpro/habr/upload_files/b14/cd3/772/b14cd3772bc67698c8fbfd846e23824a.png loading=eager src=data:, srcset data-sf-original-src=https://habrastorage.org/getpro/habr/upload_files/b14/cd3/772/b14cd3772bc67698c8fbfd846e23824a.png data-sf-original-srcset="https://habrastorage.org/r/w390/getpro/habr/upload_files/b14/cd3/772/b14cd3772bc67698c8fbfd846e23824a.png, https://habrastorage.org/getpro/habr/upload_files/b14/cd3/772/b14cd3772bc67698c8fbfd846e23824a.png 2x" sizes></a><div class=tm-event-card__info><div class=tm-event-card__date><div class=tm-event-card__day><span>20 марта </span></div></div><a href=https://habr.com/ru/events/596/ class=tm-event-card__title-link><span>Офлайн-конференция Хабр х K-team: как удерживать таланты в 2025 году</span></a><div class=tm-event-card__places><div class=tm-event-card__places-list><span class=tm-event-card__places-item><span>Москва</span></span></div></div></div><div class="tm-event-card__footer tm-event-card__footer_widget"><a href=https://habr.com/ru/events/#596 class=tm-event-card__link>Больше событий в календаре</a><div class=tm-event-card__categories><div class="event-category__label event-category__label_type-other"><span>Другое</span></div></div></div></div></section></div><div class=swiper-slide data-v-ebf6a21b><section class="tm-block tm-block_spacing-none" id=604 tabindex=-1 data-v-ebf6a21b><div class="tm-event-card tm-event-card_is-widget"><a href=https://habr.com/ru/events/604/><img alt class=tm-event-card__image data-src=https://habrastorage.org/getpro/habr/upload_files/733/9ef/194/7339ef1945f3ee6906daf89db79829d4.png loading=eager src=data:, srcset data-sf-original-src=https://habrastorage.org/getpro/habr/upload_files/733/9ef/194/7339ef1945f3ee6906daf89db79829d4.png data-sf-original-srcset="https://habrastorage.org/r/w390/getpro/habr/upload_files/733/9ef/194/7339ef1945f3ee6906daf89db79829d4.png, https://habrastorage.org/getpro/habr/upload_files/733/9ef/194/7339ef1945f3ee6906daf89db79829d4.png 2x" sizes></a><div class=tm-event-card__info><div class=tm-event-card__date><div class=tm-event-card__day><span>20 марта </span></div></div><a href=https://habr.com/ru/events/604/ class=tm-event-card__title-link><span>IX HappyWorkForum | Аутентичность и ментальное здоровье персонала</span></a><div class=tm-event-card__places><div class=tm-event-card__places-list><span class=tm-event-card__places-item><span>Москва</span><span class=tm-event-card__places-separator> • </span></span><span class=tm-event-card__places-item><span>Онлайн</span></span></div></div></div><div class="tm-event-card__footer tm-event-card__footer_widget"><a href=https://habr.com/ru/events/#604 class=tm-event-card__link>Больше событий в календаре</a><div class=tm-event-card__categories><div class="event-category__label event-category__label_type-other"><span>Другое</span></div></div></div></div></section></div><div class=swiper-slide data-v-ebf6a21b><section class="tm-block tm-block_spacing-none" id=612 tabindex=-1 data-v-ebf6a21b><div class="tm-event-card tm-event-card_is-widget"><a href=https://habr.com/ru/events/612/><img alt class=tm-event-card__image data-src=https://habrastorage.org/getpro/habr/upload_files/38f/10d/f4c/38f10df4c7f9d7c5d4610fe426af0ab4.png loading=eager src=data:, srcset data-sf-original-src=https://habrastorage.org/getpro/habr/upload_files/38f/10d/f4c/38f10df4c7f9d7c5d4610fe426af0ab4.png data-sf-original-srcset="https://habrastorage.org/r/w390/getpro/habr/upload_files/38f/10d/f4c/38f10df4c7f9d7c5d4610fe426af0ab4.png, https://habrastorage.org/getpro/habr/upload_files/38f/10d/f4c/38f10df4c7f9d7c5d4610fe426af0ab4.png 2x" sizes></a><div class=tm-event-card__info><div class=tm-event-card__date><div class=tm-event-card__day><span>20 марта </span></div></div><a href=https://habr.com/ru/events/612/ class=tm-event-card__title-link><span>Вебинар «Мастерская бюджета: как управлять затратами на облачные ресурсы»</span></a><div class=tm-event-card__places><div class=tm-event-card__places-list><span class=tm-event-card__places-item><span>Онлайн</span></span></div></div></div><div class="tm-event-card__footer tm-event-card__footer_widget"><a href=https://habr.com/ru/events/#612 class=tm-event-card__link>Больше событий в календаре</a><div class=tm-event-card__categories><div class="event-category__label event-category__label_type-development"><span>Разработка</span></div><div class="event-category__label event-category__label_type-admin"><span>Администрирование</span></div></div></div></div></section></div><div class=swiper-slide data-v-ebf6a21b><section class="tm-block tm-block_spacing-none" id=616 tabindex=-1 data-v-ebf6a21b><div class="tm-event-card tm-event-card_is-widget"><a href=https://habr.com/ru/events/616/><img alt class=tm-event-card__image data-src=https://habrastorage.org/getpro/habr/upload_files/523/7fb/13a/5237fb13ad7fb6fb483c49691aaec836.png loading=eager src=data:, srcset data-sf-original-src=https://habrastorage.org/getpro/habr/upload_files/523/7fb/13a/5237fb13ad7fb6fb483c49691aaec836.png data-sf-original-srcset="https://habrastorage.org/r/w390/getpro/habr/upload_files/523/7fb/13a/5237fb13ad7fb6fb483c49691aaec836.png, https://habrastorage.org/getpro/habr/upload_files/523/7fb/13a/5237fb13ad7fb6fb483c49691aaec836.png 2x" sizes></a><div class=tm-event-card__info><div class=tm-event-card__date><div class=tm-event-card__day><span>21 марта </span></div></div><a href=https://habr.com/ru/events/616/ class=tm-event-card__title-link><span>Бизнес-конференция «Digital Brand Day 2025: Орбита 2025»</span></a><div class=tm-event-card__places><div class=tm-event-card__places-list><span class=tm-event-card__places-item><span>Москва</span></span></div></div></div><div class="tm-event-card__footer tm-event-card__footer_widget"><a href=https://habr.com/ru/events/#616 class=tm-event-card__link>Больше событий в календаре</a><div class=tm-event-card__categories><div class="event-category__label event-category__label_type-marketing"><span>Маркетинг</span></div><div class="event-category__label event-category__label_type-other"><span>Другое</span></div></div></div></div></section></div><div class=swiper-slide data-v-ebf6a21b><section class="tm-block tm-block_spacing-none" id=608 tabindex=-1 data-v-ebf6a21b><div class="tm-event-card tm-event-card_is-widget"><a href=https://habr.com/ru/events/608/><img alt class=tm-event-card__image data-src=https://habrastorage.org/getpro/habr/upload_files/8fd/e04/ddd/8fde04ddd9ba3f6bcd515aa6209f96b7.png loading=eager src=data:, srcset data-sf-original-src=https://habrastorage.org/getpro/habr/upload_files/8fd/e04/ddd/8fde04ddd9ba3f6bcd515aa6209f96b7.png data-sf-original-srcset="https://habrastorage.org/r/w390/getpro/habr/upload_files/8fd/e04/ddd/8fde04ddd9ba3f6bcd515aa6209f96b7.png, https://habrastorage.org/getpro/habr/upload_files/8fd/e04/ddd/8fde04ddd9ba3f6bcd515aa6209f96b7.png 2x" sizes></a><div class=tm-event-card__info><div class=tm-event-card__date><div class=tm-event-card__day><span>27 марта </span></div></div><a href=https://habr.com/ru/events/608/ class=tm-event-card__title-link><span>Вебинар «Контент-маркетинг здорового человека: как привлечь внимание аудитории»</span></a><div class=tm-event-card__places><div class=tm-event-card__places-list><span class=tm-event-card__places-item><span>Онлайн</span></span></div></div></div><div class="tm-event-card__footer tm-event-card__footer_widget"><a href=https://habr.com/ru/events/#608 class=tm-event-card__link>Больше событий в календаре</a><div class=tm-event-card__categories><div class="event-category__label event-category__label_type-marketing"><span>Маркетинг</span></div><div class="event-category__label event-category__label_type-other"><span>Другое</span></div></div></div></div></section></div><div class=swiper-slide data-v-ebf6a21b><section class="tm-block tm-block_spacing-none" id=606 tabindex=-1 data-v-ebf6a21b><div class="tm-event-card tm-event-card_is-widget"><a href=https://habr.com/ru/events/606/><img alt class=tm-event-card__image data-src=https://habrastorage.org/getpro/habr/upload_files/b99/62a/b24/b9962ab2439c6edc80f96d7f0a847c72.png loading=eager src=data:, srcset data-sf-original-src=https://habrastorage.org/getpro/habr/upload_files/b99/62a/b24/b9962ab2439c6edc80f96d7f0a847c72.png data-sf-original-srcset="https://habrastorage.org/r/w390/getpro/habr/upload_files/b99/62a/b24/b9962ab2439c6edc80f96d7f0a847c72.png, https://habrastorage.org/getpro/habr/upload_files/b99/62a/b24/b9962ab2439c6edc80f96d7f0a847c72.png 2x" sizes></a><div class=tm-event-card__info><div class=tm-event-card__date><div class=tm-event-card__day><span>31 марта </span></div></div><a href=https://habr.com/ru/events/606/ class=tm-event-card__title-link><span>Серия вебинаров «DevOps Middle: AvitoTech vs ecom.tech»</span></a><div class=tm-event-card__places><div class=tm-event-card__places-list><span class=tm-event-card__places-item><span>Онлайн</span></span></div></div></div><div class="tm-event-card__footer tm-event-card__footer_widget"><a href=https://habr.com/ru/events/#606 class=tm-event-card__link>Больше событий в календаре</a><div class=tm-event-card__categories><div class="event-category__label event-category__label_type-development"><span>Разработка</span></div><div class="event-category__label event-category__label_type-admin"><span>Администрирование</span></div></div></div></div></section></div><div class=swiper-slide data-v-ebf6a21b><section class="tm-block tm-block_spacing-none" id=618 tabindex=-1 data-v-ebf6a21b><div class="tm-event-card tm-event-card_is-widget"><a href=https://habr.com/ru/events/618/><img alt class=tm-event-card__image data-src=https://habrastorage.org/getpro/habr/upload_files/f76/0f9/a82/f760f9a827b851a5eeca4802c643a91d.png loading=eager src=data:, srcset data-sf-original-src=https://habrastorage.org/getpro/habr/upload_files/f76/0f9/a82/f760f9a827b851a5eeca4802c643a91d.png data-sf-original-srcset="https://habrastorage.org/r/w390/getpro/habr/upload_files/f76/0f9/a82/f760f9a827b851a5eeca4802c643a91d.png, https://habrastorage.org/getpro/habr/upload_files/f76/0f9/a82/f760f9a827b851a5eeca4802c643a91d.png 2x" sizes></a><div class=tm-event-card__info><div class=tm-event-card__date><div class=tm-event-card__day><span>3 апреля </span></div></div><a href=https://habr.com/ru/events/618/ class=tm-event-card__title-link><span>Реалити для разработчиков: узнайте, как строится новое публичное облако MWS</span></a><div class=tm-event-card__places><div class=tm-event-card__places-list><span class=tm-event-card__places-item><span>Онлайн</span></span></div></div></div><div class="tm-event-card__footer tm-event-card__footer_widget"><a href=https://habr.com/ru/events/#618 class=tm-event-card__link>Больше событий в календаре</a><div class=tm-event-card__categories><div class="event-category__label event-category__label_type-development"><span>Разработка</span></div></div></div></div></section></div><div class=swiper-slide data-v-ebf6a21b><section class="tm-block tm-block_spacing-none" id=620 tabindex=-1 data-v-ebf6a21b><div class="tm-event-card tm-event-card_is-widget"><a href=https://habr.com/ru/events/620/><img alt class=tm-event-card__image data-src=https://habrastorage.org/getpro/habr/upload_files/eba/c37/879/ebac378793b959ebce42f41713e7b67f.jpg loading=eager src=data:, srcset data-sf-original-src=https://habrastorage.org/getpro/habr/upload_files/eba/c37/879/ebac378793b959ebce42f41713e7b67f.jpg data-sf-original-srcset="https://habrastorage.org/r/w390/getpro/habr/upload_files/eba/c37/879/ebac378793b959ebce42f41713e7b67f.jpg, https://habrastorage.org/getpro/habr/upload_files/eba/c37/879/ebac378793b959ebce42f41713e7b67f.jpg 2x" sizes></a><div class=tm-event-card__info><div class=tm-event-card__date><div class=tm-event-card__day><span>3 апреля </span></div></div><a href=https://habr.com/ru/events/620/ class=tm-event-card__title-link><span>Открытая встреча «System Analysis Meetup SberHealth»</span></a><div class=tm-event-card__places><div class=tm-event-card__places-list><span class=tm-event-card__places-item><span>Москва</span><span class=tm-event-card__places-separator> • </span></span><span class=tm-event-card__places-item><span>Онлайн</span></span></div></div></div><div class="tm-event-card__footer tm-event-card__footer_widget"><a href=https://habr.com/ru/events/#620 class=tm-event-card__link>Больше событий в календаре</a><div class=tm-event-card__categories><div class="event-category__label event-category__label_type-analytics"><span>Аналитика</span></div></div></div></div></section></div><div class=swiper-slide data-v-ebf6a21b><section class="tm-block tm-block_spacing-none" id=590 tabindex=-1 data-v-ebf6a21b><div class="tm-event-card tm-event-card_is-widget"><a href=https://habr.com/ru/events/590/><img alt class=tm-event-card__image data-src=https://habrastorage.org/getpro/habr/upload_files/31b/e68/295/31be6829578e7934fbc944396eb330b1.png loading=eager src=data:, srcset data-sf-original-src=https://habrastorage.org/getpro/habr/upload_files/31b/e68/295/31be6829578e7934fbc944396eb330b1.png data-sf-original-srcset="https://habrastorage.org/r/w390/getpro/habr/upload_files/31b/e68/295/31be6829578e7934fbc944396eb330b1.png, https://habrastorage.org/getpro/habr/upload_files/31b/e68/295/31be6829578e7934fbc944396eb330b1.png 2x" sizes></a><div class=tm-event-card__info><div class=tm-event-card__date><div class=tm-event-card__day><span>10 апреля </span></div></div><a href=https://habr.com/ru/events/590/ class=tm-event-card__title-link><span>«GoCloud 2025» — масштабная IT-конференция про облака и AI</span></a><div class=tm-event-card__places><div class=tm-event-card__places-list><span class=tm-event-card__places-item><span>Москва</span><span class=tm-event-card__places-separator> • </span></span><span class=tm-event-card__places-item><span>Онлайн</span></span></div></div></div><div class="tm-event-card__footer tm-event-card__footer_widget"><a href=https://habr.com/ru/events/#590 class=tm-event-card__link>Больше событий в календаре</a><div class=tm-event-card__categories><div class="event-category__label event-category__label_type-development"><span>Разработка</span></div><div class="event-category__label event-category__label_type-admin"><span>Администрирование</span></div><div class="event-category__label event-category__label_type-management"><span>Менеджмент</span></div></div></div></div></section></div><div class=swiper-slide data-v-ebf6a21b><section class="tm-block tm-block_spacing-none" id=516 tabindex=-1 data-v-ebf6a21b><div class="tm-event-card tm-event-card_is-widget"><a href=https://habr.com/ru/events/516/><img alt class=tm-event-card__image data-src=https://habrastorage.org/getpro/habr/upload_files/0e9/3a8/3ec/0e93a83ecea09f806d1df907ddb036a4.jpg loading=eager src=data:, srcset data-sf-original-src=https://habrastorage.org/getpro/habr/upload_files/0e9/3a8/3ec/0e93a83ecea09f806d1df907ddb036a4.jpg data-sf-original-srcset="https://habrastorage.org/r/w390/getpro/habr/upload_files/0e9/3a8/3ec/0e93a83ecea09f806d1df907ddb036a4.jpg, https://habrastorage.org/getpro/habr/upload_files/0e9/3a8/3ec/0e93a83ecea09f806d1df907ddb036a4.jpg 2x" sizes></a><div class=tm-event-card__info><div class=tm-event-card__date><div class=tm-event-card__day><span>25 – 26 апреля </span></div></div><a href=https://habr.com/ru/events/516/ class=tm-event-card__title-link><span>IT-конференция Merge Tatarstan 2025</span></a><div class=tm-event-card__places><div class=tm-event-card__places-list><span class=tm-event-card__places-item><span>Казань</span></span></div></div></div><div class="tm-event-card__footer tm-event-card__footer_widget"><a href=https://habr.com/ru/events/#516 class=tm-event-card__link>Больше событий в календаре</a><div class=tm-event-card__categories><div class="event-category__label event-category__label_type-development"><span>Разработка</span></div><div class="event-category__label event-category__label_type-marketing"><span>Маркетинг</span></div><div class="event-category__label event-category__label_type-other"><span>Другое</span></div></div></div></div></section></div><div class=swiper-slide data-v-ebf6a21b><section class="tm-block tm-block_spacing-none" id=610 tabindex=-1 data-v-ebf6a21b><div class="tm-event-card tm-event-card_is-widget"><a href=https://habr.com/ru/events/610/><img alt class=tm-event-card__image data-src=https://habrastorage.org/getpro/habr/upload_files/652/12d/998/65212d998fb4939d9787bd9c726d2acb.png loading=eager src=data:, srcset data-sf-original-src=https://habrastorage.org/getpro/habr/upload_files/652/12d/998/65212d998fb4939d9787bd9c726d2acb.png data-sf-original-srcset="https://habrastorage.org/r/w390/getpro/habr/upload_files/652/12d/998/65212d998fb4939d9787bd9c726d2acb.png, https://habrastorage.org/getpro/habr/upload_files/652/12d/998/65212d998fb4939d9787bd9c726d2acb.png 2x" sizes></a><div class=tm-event-card__info><div class=tm-event-card__date><div class=tm-event-card__day><span>20 – 22 июня </span></div></div><a href=https://habr.com/ru/events/610/ class=tm-event-card__title-link><span>Летняя айти-тусовка Summer Merge</span></a><div class=tm-event-card__places><div class=tm-event-card__places-list><span class=tm-event-card__places-item><span>Ульяновская область</span></span></div></div></div><div class="tm-event-card__footer tm-event-card__footer_widget"><a href=https://habr.com/ru/events/#610 class=tm-event-card__link>Больше событий в календаре</a><div class=tm-event-card__categories><div class="event-category__label event-category__label_type-development"><span>Разработка</span></div><div class="event-category__label event-category__label_type-other"><span>Другое</span></div></div></div></div></section></div></div><button class="swiper-button-prev swiper-button-lock sf-hidden" disabled></button><button class=swiper-button-next><span class="tm-svg-icon__wrapper swiper-button-icon"></span></button></div></div></section><div class="banner-wrapper medium-rectangle tm-layout-sidebar__banner tm-layout-sidebar__banner_bottom" data-v-ad758baa><div class="placeholder-wrapper placeholder" data-v-ad758baa><div data-v-40f619c6 class=disable-adblock-placeholder><div data-v-40f619c6 class=inner><p data-v-40f619c6 class=title>Пожалуйста, отключите блокировщик рекламы<p data-v-40f619c6 class=text><span data-v-40f619c6>Так вы можете поддержать Хабр</span></p></div></div></div><div id=adfox_164725691003361602 class=tm-adfox-banner data-v-ad758baa></div></div></div></div></div></div></div></div></main></div><div class=tm-footer-menu><div class=tm-page-width><div class=tm-footer-menu__container><div class=tm-footer-menu__block><p class=tm-footer-menu__block-title>Ваш аккаунт<div class=tm-footer-menu__block-content><ul class=tm-footer-menu__list><li class=tm-footer-menu__list-item><a href=https://habr.com/ru/users/amanbolat/articles/ class=footer-menu__item-link>Профиль</a><li class=tm-footer-menu__list-item><a href=https://habr.com/ru/tracker/ class=footer-menu__item-link>Трекер</a><li class=tm-footer-menu__list-item><a href=https://habr.com/ru/conversations/ class=footer-menu__item-link>Диалоги</a><li class=tm-footer-menu__list-item><a href=https://habr.com/ru/settings/profile/ class=footer-menu__item-link>Настройки</a><li class=tm-footer-menu__list-item><a href=https://habr.com/ru/ppa/ class=footer-menu__item-link>ППА</a></ul></div></div><div class=tm-footer-menu__block><p class=tm-footer-menu__block-title>Разделы<div class=tm-footer-menu__block-content><ul class=tm-footer-menu__list><li class=tm-footer-menu__list-item><a href=https://habr.com/ru/articles/ class=footer-menu__item-link>Статьи</a><li class=tm-footer-menu__list-item><a href=https://habr.com/ru/news/ class=footer-menu__item-link>Новости</a><li class=tm-footer-menu__list-item><a href=https://habr.com/ru/hubs/ class=footer-menu__item-link>Хабы</a><li class=tm-footer-menu__list-item><a href=https://habr.com/ru/companies/ class=footer-menu__item-link>Компании</a><li class=tm-footer-menu__list-item><a href=https://habr.com/ru/users/ class=footer-menu__item-link>Авторы</a><li class=tm-footer-menu__list-item><a href=https://habr.com/ru/sandbox/ class=footer-menu__item-link>Песочница</a></ul></div></div><div class=tm-footer-menu__block><p class=tm-footer-menu__block-title>Информация<div class=tm-footer-menu__block-content><ul class=tm-footer-menu__list><li class=tm-footer-menu__list-item><a href=https://habr.com/ru/docs/help/ class=footer-menu__item-link>Устройство сайта</a><li class=tm-footer-menu__list-item><a href=https://habr.com/ru/docs/authors/codex/ class=footer-menu__item-link>Для авторов</a><li class=tm-footer-menu__list-item><a href=https://habr.com/ru/docs/companies/corpblogs/ class=footer-menu__item-link>Для компаний</a><li class=tm-footer-menu__list-item><a href=https://habr.com/ru/docs/docs/transparency/ class=footer-menu__item-link>Документы</a><li class=tm-footer-menu__list-item><a href="https://account.habr.com/info/agreement/?hl=ru_RU" target=_blank>Соглашение</a><li class=tm-footer-menu__list-item><a href="https://account.habr.com/info/confidential/?hl=ru_RU" target=_blank>Конфиденциальность</a></ul></div></div><div class=tm-footer-menu__block><p class=tm-footer-menu__block-title>Услуги<div class=tm-footer-menu__block-content><ul class=tm-footer-menu__list><li class=tm-footer-menu__list-item><a href=https://company.habr.com/ru/corporate-blogs/ target=_blank>Корпоративный блог</a><li class=tm-footer-menu__list-item><a href=https://company.habr.com/ru/advertising/ target=_blank>Медийная реклама</a><li class=tm-footer-menu__list-item><a href=https://company.habr.com/ru/native-special/ target=_blank>Нативные проекты</a><li class=tm-footer-menu__list-item><a href=https://company.habr.com/ru/education-programs/ target=_blank>Образовательные программы</a><li class=tm-footer-menu__list-item><a href=https://company.habr.com/ru/hello-startup/ target=_blank>Стартапам</a></ul></div></div></div></div></div><div class=tm-footer><div class=tm-page-width><div class=tm-footer__container><div class=tm-footer__social><a class="tm-svg-icon__wrapper tm-social-icons__icon" href=https://www.facebook.com/habrahabr.ru rel="nofollow noopener noreferrer" target=_blank></a><a class="tm-svg-icon__wrapper tm-social-icons__icon" href=https://twitter.com/habr_com rel="nofollow noopener noreferrer" target=_blank></a><a class="tm-svg-icon__wrapper tm-social-icons__icon" href=https://vk.com/habr rel="nofollow noopener noreferrer" target=_blank></a><a class="tm-svg-icon__wrapper tm-social-icons__icon" href=https://telegram.me/habr_com rel="nofollow noopener noreferrer" target=_blank></a><a class="tm-svg-icon__wrapper tm-social-icons__icon" href=https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w rel="nofollow noopener noreferrer" target=_blank></a><a class="tm-svg-icon__wrapper tm-social-icons__icon" href=https://dzen.ru/habr rel="nofollow noopener noreferrer" target=_blank></a></div><button class=tm-footer__link> Настройка языка</button><a href=https://habr.com/ru/feedback/ class=tm-footer__link>Техническая поддержка</a><div class=tm-footer-copyright><span class=tm-copyright><span class=tm-copyright__years>© 2006–2025, </span><span class=tm-copyright__name><a class=tm-copyright__link href=https://company.habr.com/ rel=noopener target=_blank>Habr</a></span></span></div></div></div></div></div></div></div>
 <div id=overlays></div>
 
 
 
 
 
 
 
 
 
 
<div><div><div class="Vue-Toastification__container top-left"></div></div><div><div class="Vue-Toastification__container top-center"></div></div><div><div class="Vue-Toastification__container top-right"></div></div><div><div class="Vue-Toastification__container bottom-left"></div></div><div><div class="Vue-Toastification__container bottom-center"></div></div><div><div class="Vue-Toastification__container bottom-right"></div></div></div><deepl-input-controller><template shadowrootmode=open><div dir=ltr><div class="dl-input-translation-container svelte-95aucy"><div></div></div></div></template></deepl-input-controller><script data-template-shadow-root>(()=>{document.currentScript.remove();processNode(document);function processNode(node){node.querySelectorAll("template[shadowrootmode]").forEach(element=>{let shadowRoot = element.parentElement.shadowRoot;if (!shadowRoot) {try {shadowRoot=element.parentElement.attachShadow({mode:element.getAttribute("shadowrootmode"),delegatesFocus:element.getAttribute("shadowrootdelegatesfocus")!=null,clonable:element.getAttribute("shadowrootclonable")!=null,serializable:element.getAttribute("shadowrootserializable")!=null});shadowRoot.innerHTML=element.innerHTML;element.remove()} catch (error) {} if (shadowRoot) {processNode(shadowRoot)}}})}})()</script>